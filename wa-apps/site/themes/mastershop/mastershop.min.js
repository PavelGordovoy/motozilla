function Product(e,t){this.form=$(e),this.add2cart=this.form.find(".add2cart"),this.skFastButton=this.form.find(".js-sk-button-fastorder"),this.fastButton=this.form.find(".js-button-fastorder"),this.discount=this.form.closest(".js-product").find(".js-product-discount"),this.savedWrap=this.form.closest(".js-product").find(".js-product-saving"),this.button=this.add2cart.find("input[type=submit], .js-submit-form"),this.isSkuUrl=this.form.data("sku-url");for(var i in t)this[i]=t[i];var s=this;if(this.form.find(".services input[type=checkbox]").change(function(){var e=$('select[name="service_variant['+$(this).val()+']"]');e.length&&($(this).is(":checked")?e.removeAttr("disabled"):e.attr("disabled","disabled")),s.cartButtonVisibility(!0),s.updatePrice(),e.hasClass("js-select")&&e.trigger("refresh")}),this.form.find(".services .service-variants").on("change",function(){s.cartButtonVisibility(!0),s.updatePrice()}),this.form.find(".inline-select a").click(function(){var e=$(this).closest(".inline-select");return e.find("a.selected").removeClass("selected"),$(this).addClass("selected"),e.find(".sku-feature").val($(this).data("value")).change(),!1}),this.form.find(".skus input[type=radio], .skus select").change(function(){var e=null,t=!1,i=$(this).val();"radio"==$(this).attr("type")?(e=$(this).data("image-id"),t=$(this).data("disabled")):(e=$(this).find("option:selected").data("image-id"),t=$(this).find("option:selected").data("disabled")),e&&$("#product-image-"+e).length&&ProductCardGallery.selectLargePhoto($(this).closest(".js-product").find("#product-image-"+e)),t?(s.button.attr("disabled","disabled").addClass("disabled"),s.skFastButton.addClass("disabled"),s.fastButton.addClass("disabled")):(s.button.removeAttr("disabled").removeClass("disabled"),s.skFastButton.removeClass("disabled"),s.fastButton.removeClass("disabled")),s.updateSkuServices(i),s.cartButtonVisibility(!0),s.updatePrice(),s.isSkuUrl&&s.updateURLSku(i),s.updateFeaturesList(i)}),$(".skus input[type=radio]").length){var a=this.form.find(".skus input[type=radio]:checked:not(:disabled)");if(!a.length){var o=this.form.find(".skus input[type=radio]:not(:disabled):first");o.length&&(a=this.form.find(".skus input[type=radio]:not(:disabled):first").click().prop("checked",!0),this.form.find(".js-radio-styler").removeClass("checked"),o.closest(".js-radio-styler").addClass("checked"))}}else if($(".skus option").length){var a=this.form.find(".skus option:selected:not(:disabled)");a.length||(a=this.form.find(".skus option:not(:disabled):first").click().prop("selected",!0))}void 0!==a&&a.length&&a.data("image-id")&&(a.change(),a.length&&a.data("image-id")&&$("#product-image-"+a.data("image-id")).length&&ProductCardGallery.selectLargePhoto($(this).closest(".js-product").find("#product-image-"+a.data("image-id")))),this.form.find(".sku-feature").change(function(){var e="";s.form.find(".sku-feature").each(function(){e+=$(this).data("feature-id")+":"+$(this).val()+";"});var t=s.features[e];t?(t.image_id&&$("#product-image-"+t.image_id).length&&ProductCardGallery.selectLargePhoto($(this).closest(".js-product").find("#product-image-"+t.image_id)),s.updateSkuServices(t.id),t.available?(s.button.removeAttr("disabled").removeClass("disabled"),s.skFastButton.removeClass("disabled"),s.fastButton.removeClass("disabled")):(s.form.find("div.stocks div").hide(),s.form.find(".sku-no-stock").show(),s.button.attr("disabled","disabled").addClass("disabled"),s.skFastButton.addClass("disabled"),s.fastButton.addClass("disabled")),s.add2cart.find(".price").data("price",t.price),s.updatePrice(t.price,t.compare_price),s.isSkuUrl&&s.updateURLSku(t.id),s.updateFeaturesList(t.id)):(s.form.find("div.stocks div").hide(),s.form.find(".sku-no-stock").show(),s.button.attr("disabled","disabled").addClass("disabled"),s.skFastButton.addClass("disabled"),s.fastButton.addClass("disabled"),s.form.find(".compare-at-price").hide(),s.form.find(".price").empty()),s.cartButtonVisibility(!0)}),this.form.find(".sku-feature:first").change(),this.form.find('.skus input[type="radio"]:checked').length||this.form.find('.skus input[type="radio"]:enabled:first').attr("checked","checked"),this.form.find(".skus option:selected").length||this.form.find(".skus option:enabled:first").attr("selected","selected"),s.showAllSkus(),s.showAllStocks(),s.selectColor()}function is_touch_device(){return"ontouchstart"in window||navigator.maxTouchPoints}function viewport(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function removeParam(e,t){if(t){var i=t.split("?")[0],s=[],a=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==a){s=a.split("&");for(var o=s.length-1;o>=0;o-=1)s[o].split("=")[0]===e&&s.splice(o,1);i=i+"?"+s.join("&")}return i}return""}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function truncateText(e,t){if(e&&parseInt(t)){if(e.length>parseInt(t)){return e.slice(0,t)+"..."}}return e}function currencyFormat(e,t){var i,s,a,o,r,n=globalThemeSettings.currency.frac_digits,l=globalThemeSettings.currency.decimal_point,d=globalThemeSettings.currency.thousands_sep;isNaN(n=Math.abs(n))&&(n=2),void 0==l&&(l=","),void 0==d&&(d="."),i=parseInt(e=(+e||0).toFixed(n))+"",(s=i.length)>3?s%=3:s=0,r=s?i.substr(0,s)+d:"",a=i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+d),o=n&&e-i?l+Math.abs(e-i).toFixed(n).replace(/-/,0).slice(2):"";var e=r+a+o,c=t?globalThemeSettings.currency.sign:globalThemeSettings.currency.sign_html;return globalThemeSettings.currency.sign_position?e+globalThemeSettings.currency.sign_delim+c:c+globalThemeSettings.currency.sign_delim+e}function formatDate(e){var t=e.split("-"),i=t[0],s=t[1]-1,a=t[2];return new Date(i,s,a)}var main={init:function(){var e=this;e.addTouchClass(),e.retinaLogo(),e.lazyloadImage(),e.retinaImage(),e.retinaProductImage(),e.searchAuto(),e.moveTop(),globalThemeSettings.isLocationSelect&&e.locationChange(),globalThemeSettings.isCurrencySelect&&e.currencyChange(),e.expandText(),e.expandAccordionText(),e.breadcrumbsScroll(),globalThemeSettings.isMobile||(e.expandSidebarPluginsNav(),e.expandSidebarTags())},addTouchClass:function(){is_touch_device()&&$("body").removeClass("no-touch").addClass("touch")},retinaLogo:function(){var e=$(".js-logo-retina");e.length&&e.retina({force_original_dimensions:!1})},retinaImage:function(){var e=$(".js-img-retina");e.length&&e.retina({force_original_dimensions:!1})},lazyloadImage:function(){var e=$(".js-image-lazy");e.length&&e.lazy({bind:"event"})},retinaProductImage:function(){var e=$(".js-product-img-retina img");e.length&&e.retina({force_original_dimensions:!1})},searchAuto:function(){var e=$(".js-search-auto");if(!e.length)return!1;e.on("keyup",function(){var e=$(this),t=e.val(),i=e.closest("form"),s=i.attr("action"),a=i.find(".js-search-auto-result");t.length>=3?$.get(s+"?query="+t+"&ajax=1",function(e){var t=$(e).find(".js-auto-search");t.length?(a.show(),a.html(t)):a.html("")}):(a.html(""),a.hide())}),$("body").click(function(e){var t=$(".js-search-auto-result");$(".js-search-auto").is(e.target)||t.is(e.target)||0!=t.has(e.target).length||t.hide()})},moveTop:function(){var e=$("#move-to-top"),t=$(".js-content-move");t.length&&e.length&&($(window).scroll(function(){$(document).scrollTop()>=t.offset().top?e.fadeIn():e.fadeOut()}),e.click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},500)}))},locationChange:function(){if(!$(".js-language").length)return!1;$(".js-language").on("click",function(e){e.preventDefault();var t=location.href;t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#"))),-1==t.indexOf("?")?t+="?":t+="&",location.href=t+"locale="+$(this).data("value")})},currencyChange:function(){if(!$(".js-currency").length)return!1;$(".js-currency").on("click",function(e){e.preventDefault();var t=location.href;t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#"))),-1==t.indexOf("?")?t+="?":t+="&",location.href=t+"currency="+$(this).data("value")})},expandText:function(){$("body").on("click",".js-open-expand-text",function(){var e=$(this).closest(".js-expand-text-item"),t=e.find(".js-expand-text");t.is(":visible")?t.slideUp(250,function(){e.addClass("close").removeClass("open")}):t.slideDown(250,function(){e.addClass("open").removeClass("close")})})},expandAccordionText:function(){$("body").on("click",".js-extend-accordion-title",function(){var e=$(this).closest(".extend-accordion__list"),t=e.find(".js-extend-accordion-item.open"),i=$(this).closest(".js-extend-accordion-item"),s=i.find(".js-extend-accordion-text");if(t.length){t.find(".js-extend-accordion-text").slideUp(250,function(){t.addClass("close").removeClass("open")})}s.is(":visible")?s.slideUp(250,function(){i.addClass("close").removeClass("open")}):s.slideDown(250,function(){i.addClass("open").removeClass("close")})})},breadcrumbsScroll:function(){var e=$(".js-breadcrumbs-scroll");if(e.length){var t=e[0].scrollWidth;e.scrollLeft(t)}},expandSidebarPluginsNav:function(){$(".js-sidebar-plugins-nav").each(function(){var e=$(this);if(e.find(".menu-v li:hidden").length){var t=e.find(".js-sidebar-plugins-nav-more");t.removeClass("hide"),t.on("click",function(){$(this).closest(".js-sidebar-plugins-nav").find(".menu-v li:hidden, .menu-v li.show").toggleClass("show"),$(this).toggleClass("open")})}})},expandSidebarTags:function(){$(".js-show-tags").on("click",function(){var e=$(this),t=e.closest(".js-tags").find(".js-tag");e.hasClass("open")?(e.removeClass("open"),t.addClass("hide")):(e.addClass("open"),t.removeClass("hide"))})}},headerFixed={init:function(){var e=this;if(!$(".js-header-fixed").length)return!1;e.showHide(),e.categoriesVerticalMenu(),$(window).scroll(function(){e.showHide()})},showHide:function(){var e=this,t=$(".js-header-fixed"),i=$(".js-content-move");if(i.length&&t.length){$(document).scrollTop()>=i.offset().top+60?t.show():t.is(":visible")&&(t.hide(),e.closeMenu())}},closeMenu:function(){var e=$(".js-header-fixed .js-categories-v"),t=$(".js-categories-menu-bg");if(!e.hasClass("close")){e.addClass("close"),e.removeAttr("style");var i=$(".js-categories-v"),s=!1;i.each(function(){var e=$(this).find(".js-categories-menu");e.is(":visible")&&"absolute"===e.css("position")&&(s=!0)}),s||t.hide()}},categoriesVerticalMenu:function(){var e=$(".js-header-fixed .js-categories-menu-inner");e.on("click",function(t){var i=e.find(".js-categories-menu");i.is(t.target)||0!=i.has(t.target).length||categoriesVerticalMenu.closeAll()}),$("body").click(function(e){var t=$(".js-search-auto-result");$(".js-search-auto").is(e.target)||t.is(e.target)||0!=t.has(e.target).length||t.hide()})},setHeightToMainMenu:function(e){if(e.closest(".js-header-fixed").length){var t=e.find(".js-categories-sub, .js-submenu").filter(":visible"),i=e.closest(".js-categories-menu-inner"),s=i.offset().top,a=e.outerHeight();t.size()&&(t.each(function(){var e=$(this),t=e.offset().top,i=e.outerHeight(),s=t+i;a<s&&(a=s)}),(a-=s)>0&&i.css("min-height",a+"px"))}}},headerMobileFixed={init:function(){var e=this,t=$(".js-m-header-top");if(!t.length&&t.data("fixed"))return!1;e.showHide(),$(window).scroll(function(){e.showHide()})},showHide:function(){var e=$(".js-m-header-top"),t=$(".js-content-move");if(e.length&&t.length){var i=$(document).scrollTop(),s=t.offset().top;i>parseInt(s+60)?e.hasClass("fixed")||(e.css("top","-60px"),e.addClass("fixed"),e.animate({top:"0"},300,function(){e.removeAttr("style")})):0==i&&e.removeClass("fixed")}}},mobilePopupBlocks={init:function(){var e=this;e.open(),$(".js-close-m-popup").on("click",function(){e.close($(this).closest(".js-m-popup"))})},open:function(){var e=this;$(".js-open-m-popup").on("click",function(){var t=$(this),i=t.data("id");if(i){var s=$("#"+i);s.length&&(s.is(":visible")?e.close(s):(s.css("top","100%"),s.addClass("show"),s.animate({top:"0"},300,function(){s.removeAttr("style")}),$("body").addClass("overflow-hidden"),(i="popup-contacts")&&e.createMap(s)))}})},close:function(e){e.length&&(e.animate({top:"100%"},300,function(){e.removeAttr("style"),e.removeClass("show")}),$("body").removeClass("overflow-hidden"))},createMap:function(e){var t=e.find(".js-popup-map");t.length&&!t.find("iframe").length&&t.data("link-map")&&t.html('<iframe width="100%" height="400px" src="'+t.data("link-map")+'" frameborder="0" allowfullscreen=""></iframe>')}},mobileMenu={init:function(){var e=this;e.open(),e.closeByButton(),e.closeByBg(),e.showSubmenu()},open:function(){var e=this;$(".js-open-mobile-menu").on("click",function(){var t=$(this).data("id");if(!t)return!1;var i=$("#"+t);if(i.length){var s=i.data("lazy"),a=i.data("retina");if(s?categoriesImages.lazyImages(i.find(".js-menu-m-image"),a):a&&categoriesImages.retinaImages(i.find(".js-menu-m-image")),i.is(":visible"))e.close(i);else{var o=i.data("open-selected-item"),r=i.find(".js-m-menu-item.selected");o&&r.length&&r.parents(".js-m-menu-item").addClass("open"),i.css("left","100%"),i.addClass("show"),i.animate({left:"0"},300,function(){i.removeAttr("style")}),$("body").addClass("overflow-hidden").append("<div class='js-m-bg m-bg'></div>")}}})},closeByButton:function(){var e=this;$(".js-mobile-menu-close").on("click",function(){var t=$(this).closest(".js-mobile-menu");e.close(t)})},closeByBg:function(){var e=this;$("body").on("click",".js-m-bg",function(){e.close($(".js-mobile-menu"))})},close:function(e){e.length&&e.animate({left:"-100%"},300,function(){e.removeAttr("style"),e.removeClass("show"),$("body").removeClass("overflow-hidden"),$(".js-m-bg").first().remove()})},showSubmenu:function(){$(".js-m-submenu-open").on("click",function(){var e=$(this).parent();e.hasClass("open")?e.removeClass("open"):e.addClass("open")})}},anchorLink={init:function(){$(".js-move-to-tab").on("click",function(e){e.preventDefault();var t=$(this),i=t.data("tab-content"),s=$(".js-tab-content#"+i),a=$(".js-accordion-tab-content#"+i),o=$("#"+i);if(s.length)tabs.moveToTabContent(t,s);else if(a.length)accordionTabs.moveToTabContent(t,a);else{var r=o.offset().top-40;$(".js-header-fixed").length&&(r-=70),$("html,body").animate({scrollTop:r},500)}})}},tabs={init:function(){var e=this;e.initSelectTab(),e.selectTab(),e.scrollMobile()},selectTab:function(){$("body").on("click",".js-tab",function(){var e=$(this),t=e.data("tab-content"),i=e.closest(".js-tabs-outer").find(".js-tab-content"),s=e.closest(".js-tabs-outer").find(".js-tab"),a=e.closest(".js-tabs-outer").find("#"+t);s.removeClass("selected"),i.removeClass("selected"),e.addClass("selected"),a.addClass("selected")})},moveToTabContent:function(e,t){var i=t.closest(".js-tabs-outer"),s=i.find(".js-tab-content"),a=i.find(".js-tab"),o=i.find('.js-tab[data-tab-content="'+e.data("tab-content")+'"]');a.removeClass("selected"),o.addClass("selected"),s.removeClass("selected"),t.addClass("selected");var r=t.offset().top-115;$(".js-header-fixed").length&&(r-=75),$("html,body").animate({scrollTop:r},500)},initSelectTab:function(){var e=$(".js-tabs-outer");e.length&&e.each(function(){var t=$(this),i=t.find(".js-tab.selected");if(!i.length&&(i=t.find(".js-tab:first"),i.length)){var s=e.find("#"+i.data("tab-content"));s.length&&(i.addClass("selected"),s.addClass("selected"))}})},scrollMobile:function(){var e=$(".js-tabs"),t=$("body").hasClass("touch");e.length&&t&&e.each(function(){var e=$(this);e[0].offsetWidth<e[0].scrollWidth&&e.addClass("tabs--shadow")}),$(".js-tabs").on("scroll",function(){$(this).removeClass("tabs--shadow")})}},accordionTabs={init:function(){var e=this;e.initSelectTab(),e.selectTab()},selectTab:function(){$("body").on("click",".js-accordion-tab",function(){var e=$(this),t=e.data("tab-content"),i=e.closest(".js-accordion-tabs-outer").find("#"+t);i.is(":visible")?(e.removeClass("selected"),i.removeClass("selected")):(e.addClass("selected"),i.addClass("selected"))})},moveToTabContent:function(e,t){t.closest(".js-accordion-tabs-outer").find('.js-accordion-tab[data-tab-content="'+e.data("tab-content")+'"]').addClass("selected"),t.addClass("selected");var i=t.offset().top-40;$(".js-header-fixed").length&&(i-=70),$("html,body").animate({scrollTop:i},500)},initSelectTab:function(){var e=$(".js-accordion-tabs-outer");e.length&&e.each(function(){var t=$(this),i=t.find(".js-accordion-tab.selected");if(!i.length&&(i=t.find(".js-accordion-tab:first"),i.length)){var s=e.find("#"+i.data("tab-content"));s.length&&(i.addClass("selected"),s.addClass("selected"))}})}},slider={init:function(){var e=this,t=$(".js-main-slider");t.length&&t.each(function(){var t=$(this);e.sliderAuto(t),e.sliderInteraction(t)});var i=$(".js-product-item:first-child").find(".js-slider-image");i.length&&$.Retina&&i.retina()},sliderAuto:function(e){var t=this,i=1e3*parseInt(e.data("pause"));i>0&&setTimeout(function(){t.sliderInit(e,null,i)},i)},sliderInteraction:function(e){var t=this;$(".js-slider-init-interaction").on("click",function(){var e=$(this).closest(".js-slider-wrap").find(".js-main-slider");t.sliderInit(e,$(this).data("index"),!1),e.trigger("stop.owl.autoplay")}),(is_touch_device()||e.data("swipe"))&&e.swipe({allowPageScroll:"auto",threshold:20,swipe:function(i,s,a,o,r,n){"left"==s?t.sliderInit(e,"next",!1):"right"==s&&t.sliderInit(e,"prev",!1),e.hasClass("owl-loaded")&&e.trigger("stop.owl.autoplay")}})},sliderInit:function(e,t,i){var s=this;if(e.hasClass("owl-loaded"))return!1;var a=!!i,o=e.data("swipe"),r=e.data("lazy"),n=e.closest(".js-slider-wrap").find(".js-slider-nav"),l=e.closest(".js-slider-wrap").find(".js-slider-dots"),d={loop:!0,margin:0,nav:!0,navElement:"div",navContainer:n,dotsContainer:l,navText:['<span class="carousel-prev"></span>','<span class="carousel-next"></span>'],lazyLoad:r,autoHeight:!0,items:1,mouseDrag:o,onInitialize:function(){n.html(""),l.html("")},onInitialized:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit();var t=$(e.currentTarget);r&&s.setHeightNextSlide(t)},onTranslate:function(){e.addClass("_switch")},onDragged:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()},onTranslated:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()},onLoadedLazy:function(e){var t=$(e.currentTarget),i=t.find(".owl-item.active");t.find(".js-slider-banner-inner").removeAttr("style"),i.length&&$.Retina&&i.find(".js-product-item .js-slider-image").retina();var a=i.find(".owl-lazy");a.removeClass("owl-lazy"),t.find(".owl-item img[src='"+a.attr("src")+"']").removeClass("owl-lazy"),t.trigger("refresh.owl.carousel"),s.setHeightNextSlide(t)}};a&&(d.autoplay=!0,d.autoplayTimeout=i,d.autoplayHoverPause=!0),e.owlCarousel(d),$(".js-slider-wrap .owl-prev, .js-slider-wrap .owl-next, .js-slider-wrap .owl-dot").on("click",function(t){e.trigger("stop.owl.autoplay")}),t&&("prev"==t?e.trigger("prev.owl.carousel"):"next"==t?e.trigger("next.owl.carousel"):e.trigger("to.owl.carousel",[parseInt(t)])),is_touch_device()&&!o||e.swipe({allowPageScroll:"auto",threshold:20,swipe:function(t,i,s,a,o,r){"left"==i?e.trigger("next.owl.carousel"):"right"==i&&e.trigger("prev.owl.carousel")}})},setHeightNextSlide:function(e){if(e.find("img.owl-lazy").length){var t=e.height(),i=e.find(".owl-item.active"),s=i.next(),a=i.prev();if(s.length&&s.find("img.owl-lazy").length){var o=s.find(".js-slider-banner-inner");o.length&&o.css("height",t+"px")}if(a.length&&a.find("img.owl-lazy").length){var r=a.find(".js-slider-banner-inner");r.length&&r.css("height",t+"px")}}}},countdown={init:function(){$(".js-promo-countdown").each(function(){var e=$(this),t=e.data("end"),i=e.data("day-text"),s=e.data("wrap");e.countdown(t,function(t){s?(e.find(".js-countdown-days").html(t.strftime("%D")),e.find(".js-countdown-hours").html(t.strftime("%H")),e.find(".js-countdown-minutes").html(t.strftime("%M")),e.find(".js-countdown-seconds").html(t.strftime("%S"))):e.text(t.strftime("%D "+i+" %H:%M:%S"))})})}},form={init:function(){var e=this;e.formStyler(),e.submit(),e.numberType()},formStyler:function(){if($("body").on("change",'input[type="checkbox"]',function(){$(this).is(":checked")?($(this).closest(".jq-checkbox, .js-checkbox-styler").addClass("checked"),$(this).closest("label").addClass("checked")):($(this).closest(".jq-checkbox, label, .js-checkbox-styler").removeClass("checked"),$(this).closest("label").removeClass("checked"))}),$("body").on("change",'input[type="radio"]',function(){$('input[type="radio"][name="'+$(this).attr("name")+'"]').each(function(){var e=$(this);e.is(":checked")?(e.closest(".jq-radio, .js-radio-styler").addClass("checked"),e.closest("label").addClass("checked")):(e.closest(".jq-radio, .js-radio-styler").removeClass("checked"),e.closest("label").removeClass("checked"))})}),!globalThemeSettings.isFormStylerInit)return!1;var e=$('input[type="checkbox"]:not(.js-checkbox-styler-input):not(.js-none-styler):not(.shop-sk-callback__checkbox), input[type="radio"]:not(.js-radio-styler-input):not(.buy1step-auth__variant):not(.js-none-styler), .js-select');if(!e.length)return!1;e.styler(),$('.searchpro__page-filters input[type="checkbox"], .searchpro__page-filters input[type="radio"]').styler("destroy"),$('.onestep-cart input[type="checkbox"], .onestep-cart input[type="radio"]').styler("destroy"),$('.js-addgifts__cart-item input[type="radio"]').styler("destroy")},submit:function(){$("body").on("click",".js-submit-form",function(){var e=$(this),t=e.closest("form");e.hasClass("disabled")||t.submit()})},numberType:function(){$("body").on("keyup",".js-number",function(){var e=/[^0-9]/g;$(this).val($(this).val().replace(e,""))})}},headerMenu={init:function(){this.hoverByItem()},hoverByItem:function(){var e=this,t=$(".js-header-menu-outer");t.find(".js-header-menu-item, .js-header-submenu-item a").click(function(e){if($("body").hasClass("touch")){var t=$(this).closest(".js-header-menu-item, .js-header-submenu-item").find(".js-header-submenu-outer").first();t.length&&t.is(":hidden")&&e.preventDefault()}}),$("body").on("mouseover",".js-header-menu-item, .js-header-submenu-item",function(){$(this).find(".js-header-submenu-outer").first().stop(!0).delay(150).fadeIn(1,function(){$(this).closest(".js-header-menu-item").addClass("hover"),$(".js-header-menu-bg").show(),$(".js-header-top").css("z-index","11"),e.positionSubmenu(t,$(this).closest(".js-header-submenu-outer"))})}),$("body").on("mouseout",".js-header-menu-item, .js-header-submenu-item",function(){$(this).find(".js-header-submenu-outer").first().stop(!0).delay(150).fadeOut(1,function(){$(this).closest(".js-header-menu-item").removeClass("hover")})}),$(".js-header-top-inner, .js-header-menu-outer").mouseleave(function(){$(".js-header-menu-bg").hide(),$(".js-header-top").removeAttr("style")})},positionSubmenu:function(e,t){if(t.length){var i=e.offset(),s=i.left,a=parseFloat(s)+parseFloat(e.outerWidth(!0));t.removeClass("to-left").removeClass("to-right").removeAttr("style"),t.css("visibility","hidden").css("display","block");var o=t.offset(),r=o.left,n=parseFloat(t.outerWidth(!0));a<parseFloat(r)+n&&t.addClass("to-left"),t.removeAttr("style"),t.css("display","block")}}},categoriesVerticalMenu={init:function(){var e=this;if(!$(".js-categories-v").length)return!1;e.open(),e.closeByBg(),e.openSubcategories(),e.retinaImagesFirstlvl($(".js-categories-v:not(.close) .js-categories-menu"))},open:function(){var e=this,t=$(".js-categories-btn"),i=$(".js-categories-menu-bg");$(".js-categories-menu");t.on("click",function(){var t=$(this),s=t.closest(".js-categories-v"),a=s.find(".js-categories-menu");a.is(":visible")?e.close(t):(e.closeAll(),s.removeClass("close"),("absolute"===a.css("position")||a.closest(".js-header-fixed").length)&&(i.show(),s.css("z-index",11)),e.retinaImagesFirstlvl(a))})},close:function(e){var t=$(".js-categories-menu-bg"),i=$(".js-categories-v");e&&(i=e.closest(".js-categories-v")),i.addClass("close"),t.hide(),i.removeAttr("style")},closeAll:function(){var e=this;$(".js-categories-menu").each(function(){var t=$(this),i=t.closest(".js-categories-v").find(".js-categories-btn");("absolute"===t.css("position")||t.closest(".js-header-fixed").length)&&e.close(i)})},closeByBg:function(){var e=this;$(".js-categories-menu-bg").on("click",function(){e.closeAll()})},retinaImagesFirstlvl:function(e){if(e.length){var t=e.data("lazy"),i=e.data("retina");t?categoriesImages.lazyImages(e.find(".js-categories-v-image"),i):i&&categoriesImages.retinaImages(e.find(".js-categories-v-image"))}},openSubcategories:function(){var e=$(".js-categories-menu");$("body").hasClass("touch");e.menuAim({rowSelector:"> .js-categories-v-item",activate:function(e){var t=$("body").hasClass("touch"),i=$(e).closest(".js-categories-menu"),s="absolute"===i.css("position"),a=i.closest(".js-header-fixed").length>0,o=i.closest(".js-categories-v"),r=i.data("lazy"),n=i.data("retina"),l=$(e).find("a").first(),d=$(e).find(".js-categories-sub");t&&l.size()&&d.size()&&"else"!=$(e).data("type")?l.click(function(t){$(e).hasClass("hover")||(t.preventDefault(),$(e).addClass("hover"))}):$(e).addClass("hover"),r?(categoriesImages.lazyImages($(e).find(".js-subcat-image"),n),categoriesImages.lazyImages($(e).find(".js-brand-image"),!1)):n&&categoriesImages.retinaImages($(e).find(".js-subcat-image")),$(e).find(".js-submenu-image-lazy").lazy(),s||a||!d.size()||($(".js-categories-menu-bg").show(),o.css("z-index",11)),headerFixed.setHeightToMainMenu(i)},deactivate:function(e){$(e).removeClass("hover")},enter:function(t){if(!e.find(".js-categories-sub").filter(":visible").size()){var i=$("body").hasClass("touch"),s=$(t).closest(".js-categories-menu"),a="absolute"===s.css("position"),o=s.closest(".js-header-fixed").length>0,r=s.closest(".js-categories-v"),n=$(t).find("a").first(),l=$(t).find(".js-categories-sub");i&&n.size()&&l.size()?n.click(function(e){$(t).hasClass("hover")||e.preventDefault()}):$(t).addClass("hover"),a||o||!l.size()||($(".js-categories-menu-bg").show(),r.css("z-index",11))}},exitMenu:function(e){var t="absolute"===$(e).css("position"),i=$(e).closest(".js-header-fixed").length>0,s=$(e).closest(".js-categories-v");$(e).find(".js-categories-v-item").removeClass("hover"),t||i||($(".js-categories-menu-bg").hide(),s.removeAttr("style"))}}),e.find(".js-subcategories-menu").each(function(){var e=$(this);e.menuAim({rowSelector:"> .js-categories-sub-item",activate:function(e){var t=$("body").hasClass("touch"),i=$(e).find("a").first(),s=$(e).find(".js-submenu");t&&i.size()&&s.size()?i.click(function(t){$(e).hasClass("hover")||(t.preventDefault(),$(e).addClass("hover"))}):$(e).addClass("hover"),headerFixed.setHeightToMainMenu($(e).closest(".js-categories-menu"))},deactivate:function(e){$(e).removeClass("hover")},enter:function(t){if(!e.find(".js-submenu").filter(":visible").size()){var i=$("body").hasClass("touch"),s=$(t).find("a").first(),a=$(t).find(".js-submenu");i&&s.size()&&a.size()?s.click(function(e){$(t).hasClass("hover")||e.preventDefault()}):$(t).addClass("hover")}},exitMenu:function(){$(".js-categories-sub-item").removeClass("hover")}})})}},categoriesHorizontalMenu={init:function(){var e=this;if(!$(".js-categories-h-outer").length)return!1;e.openSubcategories(),e.hideBg(),e.retinaImagesFirstlvl($(".js-categories-h-items"))},openSubcategories:function(){var e=this,t=$(".js-categories-h-items"),i=t.data("lazy"),s=t.data("retina");t.find(".js-h-categories-item a").click(function(e){if($("body").hasClass("touch")){var t=$(this).closest(".js-h-categories-item").find(".js-categories-sub").first();t.length&&t.is(":hidden")&&e.preventDefault()}}),t.find(".js-h-categories-item").hover(function(){$(this).find(".js-categories-sub").first().stop(!0).delay(150).fadeIn(1,function(){$(this).closest(".js-h-categories-item").addClass("hover"),i?(categoriesImages.lazyImages($(this).find(".js-subcat-image"),s),categoriesImages.lazyImages($(this).find(".js-brand-image"),!1)):s&&categoriesImages.retinaImages($(this).find(".js-subcat-image")),e.positionSubmenu($(this).closest(".js-categories-h-items"),$(this)),e.showBg()})},function(){$(this).find(".js-categories-sub").first().stop(!0).delay(150).fadeOut(1,function(){$(this).closest(".js-h-categories-item").removeClass("hover")})}),t.find(".js-subcategories-item a").click(function(e){if($("body").hasClass("touch")){var t=$(this).closest(".js-subcategories-item").find(".js-categories-sub").first();t.length&&t.is(":hidden")&&e.preventDefault()}}),t.find(".js-subcategories-item").hover(function(){$(this).find(".js-categories-sub").first().stop(!0).delay(150).fadeIn(1,function(){$(this).closest(".js-h-categories-item").addClass("hover"),e.positionSubmenu($(this).closest(".js-categories-h-items"),$(this))})},function(){$(this).find(".js-categories-sub").first().stop(!0).delay(150).fadeOut(1,function(){$(this).removeAttr("style")})})},positionSubmenu:function(e,t){if(t.length){var i=e.offset(),s=i.left,a=parseFloat(s)+parseFloat(e.outerWidth(!0));t.removeClass("to-left").removeClass("to-right").removeAttr("style"),t.css("visibility","hidden").css("display","block");var o=t.offset(),r=o.left,n=parseFloat(t.outerWidth(!0));a<parseFloat(r)+n&&t.addClass("to-left"),t.removeAttr("style"),t.css("display","block")}},showBg:function(){$(".js-header-top, .js-categories-h-outer").css("z-index",11),$(".js-header").css("z-index",12),$(".js-categories-menu-bg").stop(!0).delay(150).fadeIn(1)},hideBg:function(){$(".js-categories-h-outer").on("mouseleave",function(){$(".js-categories-menu-bg").stop(!0).delay(150).fadeOut(1,function(){$(".js-header, .js-header-top, .js-categories-h-outer").removeAttr("style")})})},retinaImagesFirstlvl:function(e){if(e.length){var t=e.data("lazy"),i=e.data("retina");t?categoriesImages.lazyImages(e.find(".js-categories-h-image"),i):i&&categoriesImages.retinaImages(e.find(".js-categories-h-image"))}}},categoriesVerticalMenuUnfolding={init:function(){var e=this;if(!$(".js-sidebar-cats-tree").length)return!1;e.sidebar(),e.categoriesImages()},sidebar:function(){this.sidebarInit(),$(".js-subcat-open").click(function(){var e=$(this),t=$(e.parent().find(".js-subcat")[0]);t.is(":visible")?(t.slideUp(),e.removeClass("selected")):(t.slideDown(),e.addClass("selected"))})},sidebarInit:function(){var e=$(".js-sidebar-cats-tree"),t=e.find(".selected"),i=t.parents(".js-subcat");i.removeClass("hide"),i.each(function(){$(this).parent().find(".js-subcat-open").first().addClass("selected")})},categoriesImages:function(){var e=$(".js-sidebar-cats-tree"),t=e.data("lazy"),i=e.data("retina");t?categoriesImages.lazyImages(e.find(".js-sidebar-cat-image"),i):i&&categoriesImages.retinaImages(e.find(".js-sidebar-cat-image"))}},pagesTree={init:function(){var e=this,t=$(".js-sidebar-pages-tree");if(!t.length)return!1;e.open();var i=t.find(".selected"),s=i.parents(".js-subpages");s.removeClass("hide"),s.each(function(){$(this).parent().find(".js-subpages-open").first().addClass("selected")})},open:function(){$(".js-subpages-open").click(function(){var e=$(this),t=$(e.parent().find(".js-subpages")[0]);t.is(":visible")?(t.slideUp(),e.removeClass("selected")):(t.slideDown(),e.addClass("selected"))})}},dropDownList={init:function(){this.open(".js-drop-down-toggle",".js-drop-down-list",".js-drop-down-items")},open:function(e,t,i){$("body").on("click",e,function(){var e=$(this).closest(t),s=e.find(i);e.siblings().removeClass("open"),e.siblings().find(t).removeClass("open"),s.is(":visible")?e.removeClass("open"):e.addClass("open")}),$("body").on("click",e+" a",function(e){e.preventDefault()}),$(document).click(function(e){$(e.target).closest(t).length||$(t).each(function(){$(this).removeClass("open")})})}},MatchMedia=function(e){var t=window.matchMedia;return!("function"!=typeof t||!e)&&t(e).matches},subscribeForm={init:function(){var e=this;e.submitForm(),e.openCaptcha()},openCaptcha:function(){var e=$(".js-subscribe-input");e.on("focus",function(){var t=e.closest("form").find(".js-subscribe-image");t.find(".wa-invisible-recaptcha").length||t.addClass("show")}),$(document).click(function(e){$(e.target).closest("#mailer-subscribe-form").length||$("#mailer-subscribe-form .js-subscribe-image").removeClass("show")})},submitForm:function(){$("#mailer-subscribe-form input.charset").val(document.charset||document.characterSet),$("#mailer-subscribe-form").submit(function(){var e=$(this),t=e.find(".js-subscribe-input"),i=e.find(".js-submit-form"),s=e.find('input[name="agree"]'),a=e.find(".js-subscribe-load"),o=!1,r=e.find(".js-subscribe-image"),n=r.find(".wa-captcha-input"),l=$("#mailer-subscribe-error");if(t.removeClass("error"),s.closest(".js-subscribe-agree").removeClass("error"),s.length>0&&!s.is(":checked")&&(s.closest(".js-subscribe-agree").addClass("error"),o=!0),t.val()&&validateEmail(t.val())?r.length||t.attr("name","email"):(t.addClass("error"),o=!0),!1===o){i.hide(),a.show(),l.hide(),l.find(".js-text-error").remove(),n.removeClass("error");var d=e.attr("action");"http"===d.substr(0,4)&&(d=d.replace("http:","").replace("https:","")),$.post(d,e.serialize(),function(e){if(r.length||t.attr("name","username"),"ok"==e.status)$(".js-subscribe-inputs").hide(),e.data.html&&$("#mailer-subscribe-thankyou").html(e.data.html),$("#mailer-subscribe-thankyou").show(),l.hide(),l.find(".js-text-error").remove(),n.removeClass("error");else{if(e.errors){var s=Object.entries(e.errors).toString();s=s.replace(","," "),-1!==s.indexOf("captcha")&&n.length&&(n.addClass("error"),r.addClass("show")),l.append("<span class='js-text-error'>: "+s+"</span>")}l.show()}i.show(),a.hide()})}else r.length||t.attr("name","username");return!1})}},moreText={init:function(){var e=this;e.addLink(),e.open()},addLink:function(){$(".js-moretext-outer").each(function(){var e=$(this).find(".js-moretext-wrap"),t=e.data("max-height"),i=$(this).find(".js-moretext");if($(this).find(".js-moretext-more-wrap").remove(),e.removeClass("close"),e.length&&t&&e.css("max-height",t+"px"),e.length&&i.length&&e.outerHeight()<i.outerHeight()){var s=e.data("text-more");e.addClass("close"),e.after("<div class='js-moretext-more-wrap linkmore-wrap'><span class='js-moretext-more bs-color read-more'>"+s+"</span></div>")}else e.removeAttr("style")})},open:function(){$("body").on("click",".js-moretext-more",function(){var e=$(this),t=e.closest(".js-moretext-outer").find(".js-moretext-wrap"),i=e.closest(".js-moretext-outer").find(".js-moretext"),s=t.data("max-height"),a=t.data("text-more"),o=t.data("text-hide");e.hasClass("open")?(e.removeClass("open"),t.addClass("close"),e.text(a),t.animate({maxHeight:s},500)):(t.animate({maxHeight:i.outerHeight()+"px"},500),e.addClass("open"),t.removeClass("close"),e.text(o))})}},modalForm={init:function(){var e=this;e.loadContentForm("a.js-form-popup"),e.loadContentForm('.js-ajax-form a[href="/login/"]'),e.loadContentForm('.js-ajax-form a[href="/forgotpassword/"]'),e.submitForm()},loadContentForm:function(e){var t=this;$("body").on("click",e,function(e){e.preventDefault();var i=$(this).attr("href")+"?ajax=1";$.magnificPopup.close(),$("body").prepend("<div class='js-loading-bg mfp-bg mfp-ready'><div class='mfp-preloader'></div></div>"),$.get(i,function(e){$(".js-loading-bg").remove();var s=$(e).find(".js-ajax-form");t.openModal(s,i)})})},openModal:function(e,t){$(e).find("form").attr("action",t),$(e).find('input[type="checkbox"], input[type="radio"], .js-select').styler(),$.magnificPopup.open({items:{src:"<div class='popup-content'>"+e.outerHTML()+"</div>"},type:"inline"},0)},submitForm:function(){var e=this;$("body").on("submit",".js-ajax-form form",function(t){var i=$(this).closest(".js-ajax-form");if(!i.find(".wa-login-form-wrapper").length&&!i.find(".wa-forgotpassword-form-wrapper").length){t.preventDefault();var s=$(this).attr("action"),a=$(this).serialize(),o=$(this).find('input[type="submit"]');o.hide(),o.after($('<i class="icon16 loading js-loading"></i>')),$.post(s,a,function(t){var i=$(t).find(".js-ajax-form");i.length>0?(e.openModal(i,s),o.show(),$(this).find(".js-loading").remove()):window.location.reload()})}})}},cartPreview={init:function(){if(!$(".js-cart-popup").length)return!1;$(".js-cart-preview").each(function(){var e=$(this),t=e.find(".js-cart-popup");t.length&&e.hover(function(){var i=e.data("url");t.html(""),$.get(i+"?ajax=1",function(e){$(e).find(".js-cart-ajax").length&&t.html(e)})})})}},productListUser={init:function(){var e=this;e.compare(),e.favorites(),e.clear(),e.viewed()},viewed:function(){var e=this,t=$("#product-cart");t.length&&t.data("id")&&e.add("viewed_list",t.data("id"),globalThemeSettings.countViewed)},compare:function(){var e,t=this;e=$(".js-bar-fixed-bottom .js-preview-favorite").length?$(".js-bar-fixed-bottom .js-preview-compare"):$(".js-bar-fixed-right .js-preview-compare").length?$(".js-bar-fixed-right .js-preview-compare"):$(".js-header-fixed .js-preview-compare").length?$(".js-header-fixed .js-preview-compare"):$(".js-preview-compare").first();var i=productListUser.get("shop_compare"),s="/compare/";i&&"null"!=i&&null!==i&&(s="/compare/"+i+"/");var a="<a href='"+s+"'>"+globalThemeSettings.msgAddToCompare+"</a>";t.list("shop_compare",$(".js-compare-count"),e,a,".js-add-to-compare",compareProduct.add,null)},favorites:function(){var e,t=this;e=$(".js-bar-fixed-bottom .js-preview-favorite").length?$(".js-bar-fixed-bottom .js-preview-favorite"):$(".js-bar-fixed-right .js-preview-favorite").length?$(".js-bar-fixed-right .js-preview-favorite"):$(".js-header-fixed .js-preview-favorite").length?$(".js-header-fixed .js-preview-favorite"):$(".js-preview-favorite").first(),t.list("favorites_list",$(".js-favorite-count"),e,globalThemeSettings.msgAddToFavorite,".js-add-to-favorites",null,globalThemeSettings.countFavorites)},list:function(e,t,i,s,a,o,r){var n=this;$("body").on("click",a,function(l){l.preventDefault();var d=$(this),c=0,u=$(this).data("product"),f=!d.hasClass("selected");$(a+"[data-product='"+u+"']").toggleClass("selected"),f?(c=n.add(e,u,r),n.showAddedMsg(i,s)):c=n.remove(e,u),t.html(c),c>0?t.removeClass("empty"):t.addClass("empty"),o&&o({that:d,productId:u,isAdded:f})})},add:function(e,t,i){var s=this,a=$.cookie(e),o=[];if(a&&"null"!=a&&"0"!=a){a=a.replace(",null",""),a=a.replace(",0","");var o=a.split(","),r=$.inArray(t+"",o);-1!=r&&o.splice(r,1)}return o.unshift(t),i&&o.splice(i),s.save(o,e),o.length},remove:function(e,t){var i=this,s=$.cookie(e);s=s?s.split(","):[];var a=$.inArray(t+"",s);return-1!=a&&s.splice(a,1),i.save(s,e),s.length},get:function(e){return $.cookie(e)},save:function(e,t){if(e.length>0)for(var i=0;i<e.length;i++)parseInt(e[i])||e.splice(i,1);e.length>0?$.cookie(t,e.join(","),{expires:90,path:"/"}):$.cookie(t,null,{path:"/"})},clear:function(){var e=this;$(".js-clear-user-list").on("click",function(){var t=$(this),i=[],s=t.data("list")+"_list";e.save(i,s),location.reload()})},showAddedMsg:function(e,t){e.is(":visible")?($(".js-preview-favorite, .js-preview-compare, .js-cart-preview").removeClass("active"),e.addClass("active"),setTimeout(function(){e.removeClass("active")},3e3)):messages.notifySuccess(t,0)}},compareProduct={addToSidebar:function(e){var t=e.that,i=e.productId,s=e.isAdded,a=$(".js-compare-products-full"),o=$(".js-compare-products-empty"),r=$(".js-compare-products-list"),n=$(".js-compare-template");if(s){if(r.length&&t.data("name")&&n){var l=n.clone();l.removeClass("js-compare-template").addClass("js-compare-product"),l.attr("data-product",i),l.find(".js-add-to-compare").attr("data-product",i).addClass("active"),l.find(".js-compare-name").text(t.data("name")),l.find(".js-compare-name").attr("href",t.data("url")),l.find(".js-compare-img").attr("href",t.data("url")),t.data("img")&&l.find(".js-compare-img").html("<img src='"+t.data("img")+"'>"),n.after(l),l.show()}}else{$('.js-compare-product[data-product="'+i+'"]').remove()}$(".js-compare-product").length?(o.hide(),a.show()):(o.show(),a.hide())},add:function(e){var t=$(".js-link-compare"),i=productListUser.get("shop_compare"),s="/compare/";i&&"null"!=i&&null!==i&&(s=t.attr("href").replace(/compare\/.*$/,"compare/"+i+"/")),t.attr("href",s),compareProduct.addToSidebar(e)}},cart={init:function(){var e=this;e.addToCart(),e.quantityCart(),e.cartDialog(),topMessageAddToCart.close()},cartDialog:function(){$("body").on("click",".js-product-card-dialog",function(){var e=$(this),t=e.closest("[data-reload-cart='true']").length,i=e.closest(".js-add-to-cart"),s=i.find("input[name=quantity]"),a=null,o=$(this).data("href"),r=-1!==o.indexOf("select-options");s.length&&(a=parseInt(s.val()))&&(o=o+"&quantity="+a),$.magnificPopup.open({items:{src:o},type:"ajax",callbacks:{parseAjax:function(e){if($(e.data).find(".js-product-cart-quick-view").length)e.data=$(e.data).find(".js-add-to-cart"),r&&($(e.data).addClass("popup-content--dialog-options"),$(e.data).find(".product-card__right").removeAttr("class"),$(e.data).find(".product-card__popup").removeAttr("class"));else if("string"==typeof e.data||e.data instanceof String){var t="<div>"+e.data+"</div>";e.data=$(t).find(".js-add-to-cart")}else e.data=$(e.data)},ajaxContentAdded:function(){this.content.find('input[type="checkbox"]:not(.js-checkbox-styler-input):not(.js-none-styler):not(.shop-sk-callback__checkbox), input[type="radio"]:not(.js-radio-styler-input):not(.buy1step-auth__variant):not(.js-none-styler), .js-select').styler(),t&&this.content.attr("data-reload-cart",!0);var e=this.content.find("#product-cart");e.length&&e.data("id")&&productListUser.viewed(e.data("id")),void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit(),is_touch_device()||ProductCardGallery.productImageZoom(this.content.find(".js-product-gallery-main-el").first()),ProductCardGallery.swipeLargePhoto(this.content.find(".js-product-gallery-main")),ProductCardGallery.productPreviewsCarousel(this.content.find(".js-gallery-previews-carousel"))},open:function(){$.magnificPopup.instance._onFocusIn=function(e){if($(e.target).closest("#storequickorder"))return!0;$.magnificPopup.proto._onFocusIn.call(this,e)}}}},0)})},addToCart:function(){var e=this,t=($(".js-add-to-cart"),$(".js-cart-preview")),i=$(".js-cart-preview-count"),s=$(".js-cart-preview-total");$("body").on("submit",".js-add-to-cart",function(a){a.preventDefault();var o=$(this),r=o.serialize(),n=o.serializeObject(),l=o.attr("action"),d=o.find(".js-submit-form");d.addClass("loading"),d.removeClass("added"),$.post(l+"?html=1",r,function(a){if(d.removeClass("loading"),globalThemeSettings.show_product_in_basket&&(d.addClass("added"),void 0!==n.product_id)){$('input[name="product_id"][value="'+n.product_id+'"]').closest(".js-add-to-cart").find(".js-submit-form, .js-product-card-dialog").addClass("added")}if("ok"==a.status){s.html(a.data.total),i.html(a.data.count),i.removeClass("empty"),t.removeClass("empty");var r=$("#cart-form-dialog");r.length>0&&$.magnificPopup.close(),"popup"==o.data("after-action")?e.popupAddCart(o):"top"==o.data("after-action")?topMessageAddToCart.show(o):"move"==o.data("after-action")?(e.animationMoveToCart(o),r.length>0&&$.magnificPopup.close(),e.showMsg()):"fixed"==o.data("after-action")?fixedCart.show():e.showMsg(),sidebarCart.add(o),o.closest("[data-reload-cart='true']").length&&location.reload()}else"fail"==a.status&&(d.removeClass("loading"),alert(a.errors))},"json")})},animationMoveToCart:function(e){var t=e.closest(".js-product").find(".js-product-gallery-main");if(0==t.length&&(t=e.closest(".js-product-item")),t.length){var i=$("<div></div>").append(t.html()),s=$('.js-cart-preview[data-type="fixed"]');s.length&&s.is(":visible")||(s=$('.js-cart-preview[data-type="header"]')),i.css({"z-index":100,top:t.offset().top,left:t.offset().left,width:t.width()+"px",height:t.height()+"px",position:"absolute",overflow:"hidden",background:"#FFF"}).insertAfter("#main-content").animate({top:s.offset().top,left:s.offset().left,width:0,height:0,opacity:.7},650,function(){i.remove()})}},popupAddCart:function(e){var t=$("#popup-addcart"),i=e.data("name"),s=e.data("price"),a=e.data("image"),o=1,r=e.find("input[name='quantity']");r.length&&(o=r.val()),t.find(".js-popup-addcart-name").html(i),t.find(".js-popup-addcart-price").html(s),t.find(".js-popup-addcart-count").html("(x"+o+")"),a?t.find(".js-popup-addcart-image").html("<img src='"+a+"' />"):t.find(".js-popup-addcart-image").html(""),$.magnificPopup.open({items:{src:t,type:"inline"},callbacks:{afterClose:function(){t.find(".js-popup-addcart-name").html(""),t.find(".js-popup-addcart-price").html(""),t.find(".js-popup-addcart-count").html(""),t.find(".js-popup-addcart-image").html("")}}}),$(".js-close-popup-addcart").on("click",function(){$.magnificPopup.close()})},quantityCart:function(){$("body").on("click",".js-qty-action",function(){var e=$(this),t=e.closest(".js-qty"),i=e.data("type"),s=t.find("input"),a=parseInt(s.val());"-"==i?a>1?a--:a=1:a?a++:a=1,s.val(a),s.change()})},showMsg:function(){var e;e=$(".js-bar-fixed-bottom .js-cart-preview").length?$(".js-bar-fixed-bottom .js-cart-preview"):$(".js-bar-fixed-right .js-cart-preview").length?$(".js-bar-fixed-right .js-cart-preview"):$(".js-header-fixed .js-cart-preview").length&&$(".js-header-fixed .js-cart-preview").is(":visible")?$(".js-header-fixed .js-cart-preview"):$(".js-header .js-cart-preview").length?$(".js-header .js-cart-preview"):$(".js-cart-preview").first(),$(".js-preview-compare, .js-preview-favorite, .js-cart-preview").removeClass("active"),e.addClass("active"),setTimeout(function(){e.removeClass("active")},2e3)}},topMessageAddToCart={init:function(){this.close()},show:function(e){var t=this,i=$("#top-msg-addcart"),s=e.data("name"),a=e.data("price"),o=e.data("image"),r=1,n=e.find("input[name='quantity']");n.length&&(r=n.val()),i.find(".js-top-msg-addcart-name").html(truncateText(s,40)),i.find(".js-top-msg-addcart-price").html(a),i.find(".js-top-msg-addcart-count").html("(x"+r+")"),o?i.find(".js-top-msg-addcart-image").html("<img src='"+o+"' />"):i.find(".js-top-msg-addcart-image").html(""),i.slideDown(100),setTimeout(function(){t.hide()},5e3)},hide:function(){var e=$("#top-msg-addcart");e.length&&(e.slideUp(100),e.find(".js-top-msg-addcart-name").html(""),e.find(".js-top-msg-addcart-price").html(""),e.find(".js-top-msg-addcart-count").html(""),e.find(".js-top-msg-addcart-image").html(""))},close:function(){var e=this;$(".js-top-msg-addcart-close").on("click",function(){e.hide()})}},fixedCart={init:function(){this.close()},show:function(){var e=$(".js-fixed-cart-outer");if(e.length){var t=e.data("cart-url")+"?fixed=1";e.html(""),$.get(t,function(t){$("<div>"+t+"</div>").find(".js-fixed-cart").length&&e.html(t)})}},close:function(){$("body").on("click",".js-cart-fixed-close",function(){$(".js-fixed-cart-outer").html("")})}},sidebarCart={add:function(e){var t=$(".js-sidebar-cart"),i=e.find('input[name="product_id"]').val(),s=parseInt(e.find('input[name="quantity"]').val());if(s||(s=1),t.length){var a=t.find(".js-sidebar-cart-item[data-product-id="+i+"]");if(a.length){var o=a.find(".js-sidebar-cart-quantity"),r=parseInt(o.text())+s;o.text(r)}else{var n=t.find(".js-sidebar-cart-template").clone(),l=e.data("name"),d=e.data("link"),c=e.data("price"),u=e.data("image");n.find(".js-sidebar-cart-template-img").html('<a href="'+d+'"><img src="'+u+'"></a>'),n.find(".js-sidebar-cart-template-link").html('<a href="'+d+'">'+l+"</a>"),n.find(".js-sidebar-cart-price").html(c),n.find(".js-sidebar-cart-quantity").html(s),n.attr("data-product-id",i),n.removeClass("js-sidebar-cart-template").removeClass("display-none").addClass("js-sidebar-cart-item"),$(".js-sidebar-cart-items").append(n),t.removeClass("hide")}}},clearItem:function(e,t){var i=$(".js-sidebar-cart");if(i.length&&(e||t)){var s=$(".js-sidebar-cart-item[data-data-id="+t+"]");0==s.length&&(s=$(".js-sidebar-cart-item[data-product-id="+e+"]")),s.length&&(s.remove(),0==$(".js-sidebar-cart-item").length&&i.addClass("hide"))}}},sidebarMobileMenu={init:function(){var e=this;e.openWrap(),e.openSubmenu()},openWrap:function(){$(".js-m-sidebar-menu-open").on("click",function(){$(this).closest(".js-m-sidebar-menu").toggleClass("open")})},openSubmenu:function(){$(".js-m-sidebar-submenu-open").on("click",function(){$(this).parent().toggleClass("open")})}},sidebarCarousel={init:function(){var e=this;$(".js-carousel-products-sidebar").each(function(){e.carousel($(this))})},carousel:function(e){var t=e.find(".js-carousel-items"),i=parseInt(t.data("count-visible")),s=t.data("image-lazy"),a=t.data("retina");t.jCarouselLite({btnNext:e.find(".js-carousel-next"),btnPrev:e.find(".js-carousel-prev"),vertical:!0,visible:i||3,afterEnd:function(e){if(s){var t=e.find(".js-product-preview-img");t.length&&t.lazy({onFinishedAll:function(e){a&&$(e).retina()}})}}})}},openMap={init:function(){$(".js-popup-map").on("click",function(){$.magnificPopup.open({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,items:{src:$(this).data("href"),type:"iframe"}},0)})}},switchVersionSite={init:function(){var e=this;e.switchVersion(),e.removeLink()},switchVersion:function(){$(".js-switch-version-link").on("click",function(e){e.preventDefault(),$.cookie("is_desktop_for_mobile")?$.cookie("is_desktop_for_mobile","",{path:"/",expires:5}):$.cookie("is_desktop_for_mobile",1,{path:"/",expires:5}),location.reload()})},removeLink:function(){$(".js-switch-version-remove").on("click",function(e){e.preventDefault(),$.cookie("is_hide_link_version_site",1,{path:"/",expires:1}),$(".js-switch-version").remove()})}},demoTest={init:function(){var e=this;if(!$("#test-settings").length)return!1;$("#open-test-settings").on("click",function(e){e.preventDefault(),$.magnificPopup.open({items:{src:"#test-settings"},type:"inline"})}),$("#open-test-settings").one("click",function(t){t.preventDefault(),e.settings()})},settings:function(){var e=this,t=["color_scheme","button_type","base_bg_color","base_bg_font_color","base_font_color","ac_bg_color","ac_bg_color","ac_bg_color_font","ac_font_color","font","header_fixed_desktop","bar_fixed_bottom_desktop","bar_fixed_right_desktop","is_horizontal_menu","horizontal_main_menu_brand_submenu_type","vertical_main_menu_brand_submenu_type","homepage_sidebar_left","homepage_sidebar_right","homepage_slider_over_content","homepage_main_menu_left_of_slider","categories_mainpage_design","vertical_main_menu_brand_submenu_type","horizontal_main_menu_brand_submenu_type","product_gallery_previews","product_card_type_main_content_desktop","product_card_type_main_content_mobile","product_tile_display_fastorder","show_product_discount","show_product_badge_saving","cart_add_action_desktop"];$("#test-settings .js-color").attr("type","color"),$("#test-settings .js-color").on("change",function(){$(this).data("empty",0)}),$("#test-settings .js-color-clear").on("click",function(){$("#"+$(this).data("id")).val("#ffffff").data("empty",1)}),$("#settings-form").submit(function(i){i.preventDefault();var s=$(this),a=s.serializeArray();e.saveSettings(a,t)}),$(".js-select-setting-color").on("click",function(){var e=$(this),t=e.data("value");$(".js-setting-color").val(t),$(".js-select-setting-color").removeClass("selected"),e.addClass("selected")}),$(".js-clear-test-settings").on("click",function(){e.clearTestSettings(t)})},saveSettings:function(e,t){t.forEach(function(t){var i=e.find(function(e){return e.name==t}),s=$("#settings-form").find('input[name="'+t+'"]');"color"==s.attr("type")&&1==s.data("empty")&&(i.value=null);var a=new Date;a.setTime(a.getTime()+18e5),$.cookie(t,i.value,{expires:a,path:"/"}),window.location.reload()})},clearTestSettings:function(e){e.forEach(function(e){$.removeCookie(e,{path:"/"})}),window.location.reload()}};if(!window.SocialWidgets)var SocialWidgets=function(e){"use strict";var t=function(e){this.init(e)};return t.prototype={_params:{container:".js-social-widgets",timeAutoSwitch:5e3,autoSwitch:!1},getParams:function(){return this._params},getParam:function(e){return this._params[e]},setParam:function(e,t){this._params[e]=t},init:function(t){var i=this;return i.autoTimer=null,i._params=e.extend({},i._params,t),i._params.preload="switch",i.initElements(),"undefined"!=typeof vivaSocialWidgetsData&&(i.data=vivaSocialWidgetsData,i.dataInst=vivaSocialWidgetsInst,!!i.elements.container.size()&&(i.active=Object.keys(i.elements.contentsArray)[0],i.autoSwitch=i.elements.container.data("auto"),parseInt(i.elements.container.data("time"))&&(i._params.timeAutoSwitch=parseInt(i.elements.container.data("time"))),i.elements.container.data("preload")&&(i._params.preload=i.elements.container.data("preload")),i.initTabs(),void setTimeout(function(){i.initAuto()},3e3)))},initElements:function(){var t=this,i={};if(t.elements=i,i.container=e(t._params.container),!i.container.size())return!1;i.tabs=i.container.find(".js-social-widgets-tab"),i.tabsArray={},i.tabs.each(function(){i.tabsArray[e(this).attr("data-tab")]=e(this)}),i.contents=i.container.find(".js-social-widgets-content"),i.contentsArray={},i.contents.each(function(){i.contentsArray[e(this).attr("data-content")]=e(this)}),t.elements=i},initTabs:function(){var t=this,i=t.elements,s=i.container;s.hover(function(){t.pauseAuto()},function(){t.initAuto()});for(var a in t.data)if(void 0!==i.contentsArray[a]&&("instagram"==a?t.runInstagram():i.contentsArray[a].html(t.data[a]),"switch"==t._params.preload))break;s.find("[data-tab]").on("click",function(){var s=e(this),a=i.tabs.filter("._active").attr("data-tab"),o=s.attr("data-tab");a!=o&&(t.stopAuto(),t.switch(o))})},switch:function(e){var t=this,i=t.elements,s=i.tabsArray[e],a=i.contentsArray[e];t.active=e,i.tabs.removeClass("_active"),s.addClass("_active"),i.contents.removeClass("_show"),a.html()||("instagram"==e?t.runInstagram():a.append(t.data[e])),a.addClass("_show")},initAuto:function(){var e=this,t=e.elements,i=e.getParam("timeAutoSwitch");if(!e.autoSwitch)return!1;e.autoTimer=setInterval(function(){var i=e.active,s=t.tabsArray[i].next(".js-social-widgets-tab");s.size()||(s=t.tabs.first());var a=s.attr("data-tab");e.active=a,e.switch(a)},i)},pauseAuto:function(){var e=this;clearInterval(e.autoTimer)},stopAuto:function(){var e=this;clearInterval(e.autoTimer),e.autoSwitch=!1},runInstagram:function(){var t=this;(e("#social-widgets-content-instagram").html("<div id='list-instagram' class='list-instagram'></div>"),"undefined"!=typeof Instafeed&&t.dataInst)&&new Instafeed({get:"user",userId:t.dataInst.userId,target:"list-instagram",clientId:t.dataInst.clientId,accessToken:t.dataInst.accessToken,limit:t.dataInst.limit,template:'<div class="list-instagram__item"><a class="list-instagram__link" href="{{link}}" target="_blank"><img class="list-instagram__img" src="{{image}}" alt="{{caption}}" /></a></div>'}).run()}},t}(jQuery);var videoPopup={init:function(){$("body").on("click",".js-video-popup",function(e){e.preventDefault();var t=$(this).data("href");t&&$.magnificPopup.open({items:{src:t},type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,iframe:{patterns:{youtube_short:{index:"youtu.be/",id:"youtu.be/",src:"//www.youtube.com/embed/%id%?autoplay=1"}}}},0)})}},infoMessage={init:function(e){var t=this;if(!e.length)return!1;t.checkOpen(e)&&t.onClose(e)},checkOpen:function(e){var t=e.data("id");return!$.cookie("info_massage_close_"+t)},runOpen:function(e){e.show()},onClose:function(e){var t=e.data("id");e.find(".js-info-message-close").on("click",function(){e.detach(),$.cookie("info_massage_close_"+t,1,{path:"/",expires:365})})}},popupAdvert={init:function(e){var t=this;if(!e.length)return!1;(t.isNotTabu()||t.checkOpen(e))&&t.runLogic(e)},checkOpen:function(e){var t=e.data("id");return!$.cookie("popup_advert_close_"+t)},isNotTabu:function(){var e=$.cookie("popup_advert_tabu");return void 0===e&&!e},runLogic:function(e){var t=parseInt(e.data("time")),i=parseInt(e.data("tabu")),s=e.data("id");t||(t=10),i||(i=10),setTimeout(function(){$.magnificPopup.open({items:{src:e,type:"inline"},callbacks:{open:function(){$.cookie("popup_advert_tabu",1,{path:"/",expires:i}),$.cookie("widget_popup_advert_close_"+s,1,{path:"/",expires:365})}}})},1e3*t)}},productsPreviewList={init:function(){var e=this;$(".js-preview-products").each(function(){e.images($(this))})},images:function(e){var t=e.data("retina"),i=e.data("image-lazy"),s=e.find(".js-product-preview-img"),a=e.find(".js-image-lazy");i?(s.lazy({afterLoad:function(e){t&&e.retina({force_original_dimensions:!1})}}),a.length&&a.lazy({bind:"event"})):t&&s.retina({force_original_dimensions:!1})}};window.productTileGallery||(productTileGallery=function(e){var t=function(e){is_touch_device()||this.init(e)};return t.prototype={_config:{images:{},heightFixed:!0},init:function(t){var i=this;if(e("body").hasClass("touch"))return!1;i.params=e.extend({},i._config,t),i.runGallery()},runGallery:function(){var t=this;e(".js-tile-gallery").each(function(){var i=e(this),s=i.find(".js-tile-gallery-block"),a=i.find(".js-product-preview-img"),o=i.find(".js-tile-gallery-item").length;a.data("src")||a.attr("data-src",a.attr("src"));var r=a.data("src");if(!i.size()||!s.size()||!a.size()||o<2||i.hasClass("_tile-active"))return!0;i.addClass("_tile-active"),s.removeAttr("style"),s.removeClass("fixed"),i.find(".js-tile-gallery-item").on("mouseenter",function(){s.addClass("_tile_hover"),t.params.heightFixed&&(s.css("height",s.height()+"px"),s.css("line-height",s.height()+"px"),s.addClass("fixed"));var i=e(this).data("img");e("<img>").attr("src",i).load(function(){s.hasClass("_tile_hover")&&(a.attr("src",i),a.retina())})}),s.on("mouseleave",function(){a.attr("src",r),a.retina(),s.removeClass("_tile_hover")})})}},t}(jQuery));var productsCarousel={carouselProductsWrap:$(".js-carousel-products"),init:function(){var e=this;if(!e.carouselProductsWrap.length)return!1;e.prepareProductListCarousels(),e.carouselInteraction(),$(window).one("resize",e.carouselsInit)},carouselsInit:function(){productsCarousel.carouselProductsWrap.each(function(){var e=$(this);productsCarousel.carousel(e)})},prepareProductListCarousels:function(){this.carouselProductsWrap.each(function(){var e=$(this).find(".js-products-list"),t=e.outerWidth(),i=$(this).find(".js-product-item"),s=i.length;if(i.first().outerWidth(!0)*s>t+20){var a=$(this).find(".js-carousel-direction"),o=$(this).data("loop")?"":" disabled";a.append('<div data-index="prev" class="js-slider-init-interaction owl-prev'+o+'"><span class="carousel-prev"></span></div>'),a.append('<div data-index="next" class="js-slider-init-interaction owl-next"><span class="carousel-next"></span></div>')}var r=e.offset().left+e.outerWidth();i.slice(0,5).each(function(){$(this).offset().left<r&&$(this).find(".owl-lazy").Lazy({afterLoad:function(e){e.removeClass("owl-lazy"),$.Retina&&e.retina()}})})})},carouselInteraction:function(){var e=this;$(".js-slider-init-interaction").on("click",function(){var t=$(this).closest(".js-carousel-products");e.carousel(t,$(this).data("index"))}),is_touch_device()&&$(".js-products-list").each(function(){$(this).swipe({allowPageScroll:"auto",threshold:20,swipe:function(t,i,s,a,o,r){var n=$(this).closest(".js-carousel-products");"left"==i?e.carousel(n,"next"):"right"==i&&e.carousel(n,"prev")}})})},carousel:function(e,t){if(e.hasClass("carousel-init"))return!1;var i=e.find(".js-products-list"),s=e.find(".js-carousel-direction"),a=!1,o=contentCols.getCount(i.closest(".js-content-cols")),r=e.data("swipe"),n=e.data("tile-mini"),l=e.data("tile-large"),d=1,c=0;n&&(d=2),l&&(c=1);var u=e.data("loop"),f=e.find(".js-product-item").length,p=parseInt(i.find(".js-product-item").first().outerWidth())+11;u&&i.outerWidth()<f*p&&(a=!0);var h={0:{items:d},480:{items:2},750:{items:3},1130:{items:4-c},1400:{items:5-c}};2!=o||globalThemeSettings.isMobile?3!=o||globalThemeSettings.isMobile||(h={0:{items:d},480:{items:2},750:{items:3}}):h={0:{items:d},480:{items:2},750:{items:3},1400:{items:4-c}},i.addClass("owl-carousel").addClass("owl-theme"),i.owlCarousel({loop:a,margin:10,nav:!0,dots:!1,mouseDrag:r,navText:['<span class="carousel-prev"></span>','<span class="carousel-next"></span>'],navElement:"div",navContainer:s,responsive:h,lazyLoad:!0,lazyLoadEager:1,onInitialize:function(t){e.find(".js-slider-init-interaction").remove()},onInitialized:function(t){e.addClass("carousel-init")},onDragged:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()},onTranslated:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()},onLoadedLazy:function(e){var t=$(e.currentTarget);t.length&&$.Retina&&t.find(".owl-item.active .owl-lazy").retina({force_original_dimensions:!1})}}),t&&("prev"==t?i.trigger("prev.owl.carousel"):"next"==t&&i.trigger("next.owl.carousel"))}},contentCols={getCount:function(e){var t=1;return e.length&&parseInt(e.data("count"))>0&&(t=e.data("count")),t}},categoriesImages={init:function(){this.categoriesList()},categoriesList:function(){var e=this;$(".js-categories-list").each(function(){var t=$(this),i=t.data("retina"),s=t.data("lazy"),a=t.find(".js-categories-item-image");s?e.lazyImages(a,i):i&&e.retinaImages(a)})},lazyImages:function(e,t){var i=this;e.lazy({onFinishedAll:function(s){t&&i.retinaImages(e)}})},retinaImages:function(e){e.each(function(){var e=$(this),t=e.attr("src");if(t.indexOf("?")>=0){var i=t.substring(t.lastIndexOf(".")+1),s=t.replace("."+i,"@2x."+i);e.attr("data-at2x",s)}}).promise().done(function(){e.retina()})}},customGalleryPopup={init:function(){var e=this;$(".js-custom-gallery").on("click",function(t){t.preventDefault();var i=[],s=$(this),a=$(this).data("group"),o=0,r=[];if(a&&(r=$('.js-custom-gallery[data-group="'+a+'"]')),r.length>1)r.each(function(e){var t=$(this).attr("href"),a=$(this).attr("title");t&&(s.attr("href")==t&&(o=e),i.push({href:t,title:a}))}),e.openGallery(i,o);else{var n=s.attr("href"),l=s.attr("title");n&&(i.push({href:n,title:l}),e.openGallery(i))}})},openGallery:function(e,t){function i(){var e=$("#swipebox-close");e.length&&e.trigger("click")}$(document).on("click","img, #swipebox-bottom-bar, .js-swipebox-thumbs-el",function(e){e.stopPropagation()}),$(document).on("scroll",i),$(document).on("click","#swipebox-overlay",i),$.swipebox(e,{useSVG:!1,hideBarsDelay:!1,initialIndexOnArray:t,afterOpen:function(){$("#swipebox-overlay").addClass("opacity-black"),$("#swipebox-bottom-bar").addClass("swipebox-bottom-bar--pos-center"),$("#swipebox-arrows").addClass("swipebox-arrows--pos-center")}})}},contentPopup={init:function(){var e=this;e.loadPage(),e.loadInline()},loadPage:function(){var e=this;$("body").on("click",".js-page-popup",function(t){t.preventDefault();var i=$(this),s=i.attr("href");s||(s=i.data("href")),$.magnificPopup.close(),$("body").prepend("<div class='js-loading-bg mfp-bg mfp-ready'><div class='mfp-preloader'></div></div>"),$.get(s+"?popup=1",function(t){$(".js-loading-bg").remove();var i=!1,t=$("<div>").append(t);$(t)&&($(t).find(".js-page-popup-content").length&&(i=$(t).find(".js-page-popup-content")),i?e.openModal(i,"page"):location.href=s)})})},loadInline:function(){var e=this;$("body").on("click",".js-content-popup",function(t){t.preventDefault();var i=$(this).data("href");if(i){var s=$("#"+i).clone();s.length&&(s.removeClass("display-none"),e.openModal(s,"custom"))}})},openModal:function(e,t){var i=null;t&&(i=" popup-content--"+t),$.magnificPopup.open({items:{src:"<div class='popup-content"+i+"'>"+e.outerHTML()+"</div>"},type:"inline"},0)}},messages={notifySuccess:function(e,t){e||(e="Sent!"),$.notify({message:e,icon:"fal fa-check"},{delay:5e3,type:"success",offset:t,placement:{align:"right",from:"bottom"},template:'<div data-notify="container" class="alert alert-{0} alert-add-product bs-bg" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})},notifyRemoveElement:function(e){e||(e="Deleted!"),$.notify({message:e},{delay:5e3,offset:10,placement:{align:"right",from:"bottom"}})},notifyDanger:function(e){e||(e="An error has occurred!"),$.notify({message:e,icon:"fa fa-exclamation-circle"},{delay:5e3,type:"danger",placement:{align:"right",from:"bottom"}})}},displayFontAwesome={init:function(){$("body").hasClass("icons-hidden")&&($.isFunction(window.fontSpy)?fontSpy("Font Awesome\\ 5 Brands",{glyphs:"",success:function(){$("body").removeClass("icons-hidden")},failure:function(){$("body").removeClass("icons-hidden")}}):$("body").removeClass("icons-hidden"))}},responsiveMenu={init:function(){this.responsive(),window.addEventListener("resize",responsiveMenu.responsive)},responsive:function(){jQuery.each($(".js-resp-nav"),function(){responsiveMenu.responsived($(".js-resp-nav"),".js-resp-nav-el",".js-header-nav-sub")}),responsiveMenu.categoriesResponsived($(".js-h-categories"),".js-h-categories-item",".js-categories-sub",$(".js-categories-h-else-items")),responsiveMenu.responsived($(".js-header-menu"),".js-header-menu-item",".js-header-submenu"),responsiveMenu.responsived($(".js-category-filter-list"),".js-category-filter-el",".js-category-filter-subwrap")},responsived:function(e,t,i){var s=e.width(),a=e.find(t+'[data-type="else"]'),o=a.find(i),r=a.find(t),n=parseFloat(a.removeClass("hide").outerWidth(!0)),l=e.data("class-el"),d=e.data("class-sub-el");if(r.length){d&&r.removeClass(d),l&&r.addClass(l);r.clone().insertBefore(a)}a.addClass("hide"),o.html("");var c=e.children(t+':not([data-type="else"])'),u=0;jQuery.each(c,function(){var e=$(this),t=parseFloat(e.outerWidth(!0));if(u+t+n>s){a.removeClass("hide");var i=e.clone();l&&i.removeClass(l),d&&i.addClass(d),i.appendTo(o),t+=e.outerWidth(!0),e.remove()}u+=t}),e.css("overflow","visible"),e.removeClass("responsived-before-init")},categoriesResponsived:function(e,t,i,s){var a=e.width(),o=e.find(t+'[data-type="else"]'),r=parseFloat(o.removeClass("hide").outerWidth(!0)),n=e.children(t+':not([data-type="else"])'),l=0;n.removeClass("hide"),o.addClass("hide"),o.find(i).remove(),o.append(s.html()),o.find(".js-subcategories-item").addClass("hide"),jQuery.each(n,function(){var e=$(this),t=parseFloat(e.outerWidth(!0)),i=e.data("id");l+t+r>a&&(o.removeClass("hide"),o.find(".js-subcategories-item[data-id='"+i+"']").removeClass("hide"),t+=e.outerWidth(!0),e.addClass("hide")),l+=t}),e.css("overflow","visible"),e.removeClass("responsived-before-init")},positionSubmenu:function(e,t,i){$("body").on("hover",e,function(){var e=$(this),s=e.closest(t),a=e.find(i).first();if(a.length){var o=s.offset(),r=o.left,n=parseFloat(r)+parseFloat(s.outerWidth(!0));a.removeClass("to-left").removeClass("to-right").removeAttr("style"),a.css("visibility","hidden").css("display","block");var l=a.offset(),d=l.left,c=parseFloat(a.outerWidth(!0));n<parseFloat(d)+c&&a.addClass("to-left"),a.removeAttr("style")}})}};Product.prototype.getEscapedText=function(e){return $("<div>").text(e).html()},Product.prototype.currencyFormat=function(e,t){var i,s,a,o,r,n=this.currency.frac_digits,l=this.currency.decimal_point,d=this.currency.thousands_sep;isNaN(n=Math.abs(n))&&(n=2),void 0==l&&(l=","),void 0==d&&(d="."),i=parseInt(e=(+e||0).toFixed(n))+"",(s=i.length)>3?s%=3:s=0,r=s?i.substr(0,s)+d:"",a=i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+d),o=n&&e-i?l+Math.abs(e-i).toFixed(n).replace(/-/,0).slice(2):"";var e=r+a+o,c=t?this.currency.sign:this.currency.sign_html;return this.currency.sign_position?e+this.currency.sign_delim+c:c+this.currency.sign_delim+e},Product.prototype.serviceVariantHtml=function(e,t,i){return $('<option data-price="'+i+'" value="'+e+'"></option>').text(t+" (+"+this.currencyFormat(i,1)+")")},Product.prototype.updateSkuServices=function(e){this.form.find(".js-product-code").length>0&&(this.form.find(".js-product-code").hide(),this.form.find(".sku-"+e+"-product-code").show()),this.form.find("div.stocks div").hide();var t=this.form.find(".sku-"+e+"-stock");t.show();var i=this.button.data("cart-title"),s=this.button.data("cart-preorder-title");if(i&&s){var a=null;if(this.button.find(".js-icon").length)var a=this.button.find(".js-icon").outerHTML();t.find(".js-stock-preorder").length?this.button.html(a+s):this.button.html(a+i)}for(var o in this.services[e]){var r=this.services[e][o];if(!1===r)this.form.find(".service-"+o).hide().find("input,select").attr("disabled","disabled").removeAttr("checked"),this.form.find(".service-"+o).find(".js-checkbox-styler, label").addClass("disabled");else if(this.form.find(".service-"+o).show().find("input").removeAttr("disabled"),this.form.find(".service-"+o).find(".js-checkbox-styler, label").removeClass("disabled"),"string"==typeof r||"number"==typeof r)this.form.find(".service-"+o+" .service-price").html(this.currencyFormat(r)),this.form.find(".service-"+o+" input").data("price",r);else{var n=this.form.find(".service-"+o+" .service-variants"),l=n.val();for(var d in r){var c=n.find("option[value="+d+"]");!1===r[d]?(c.hide(),c.attr("disabled","disabled"),c.attr("value")==l&&(l=!1)):(l||(l=d),c.removeAttr("disabled"),c.replaceWith(this.serviceVariantHtml(d,r[d][0],r[d][1])))}l||(l=this.form.find(".service-"+o+" .service-variants").find("option:not(.disable):first").attr("value")),this.form.find(".service-"+o+" .service-variants").val(l).trigger("refresh")}}},Product.prototype.updatePrice=function(e,t){if(void 0===e){var i=this.form.find('.skus input[type="radio"]:checked, .skus option:selected');if(i.length)var e=parseFloat(i.data("price")),t=parseFloat(i.data("compare-price"));else var e=parseFloat(this.add2cart.find(".price").data("price"))}var s=this;this.form.find(".services input:checked").each(function(){var t=$(this).val();s.form.find(".service-"+t+"  .service-variants").length?e+=parseFloat(s.form.find(".service-"+t+"  .service-variants :selected").data("price")):e+=parseFloat($(this).data("price"))}),t&&e>0?this.form.find(".compare-at-price").html(this.currencyFormat(t)).show():this.form.find(".compare-at-price").hide();var a=this.add2cart.find(".price"),o=this.currencyFormat(e),r=a.data("text");0==e&&r?a.html('<span class="product-card__zero-prices">'+r+"</span>"):a.html(o),s.updateDiscount(e,t),s.updateSaved(e,t)},Product.prototype.updateDiscount=function(e,t){if(this.discount.length){var i=0,s=this.discount.data("round"),a=parseInt(this.discount.data("minimal"));this.discount.addClass("display-none"),t>e&&e>0&&(i=(t-e)/t*100,(i="ceil"==s?Math.ceil(i):"floor"==s?Math.floor(i):Math.round(i))>=a&&this.discount.html("-"+i+"%").removeClass("display-none"))}},Product.prototype.updateSaved=function(e,t){if(this.savedWrap.length&&(this.savedWrap.addClass("display-none"),t>e&&e>0)){var i=e-t;this.savedWrap.html(this.currencyFormat(i)).removeClass("display-none")}},Product.prototype.cartButtonVisibility=function(e){e&&(this.add2cart.find(".js-compare-at-price").show(),this.add2cart.find('input[type="submit"], .js-submit-form').show(),this.add2cart.find(".js-sk-button-fastorder").show(),this.add2cart.find(".price").show())},Product.prototype.showAllSkus=function(){$(".js-product-skus-show").on("click",function(){var e=$(this);e.closest(".js-product-skus").find(".js-product-skus-item").toggleClass("hide"),e.toggleClass("open")})},Product.prototype.showAllStocks=function(){$(".js-product-stocks-show").on("click",function(){var e=$(this);e.closest(".js-product-stocks").find(".js-product-stocks-item").toggleClass("hide"),e.toggleClass("open")})},Product.prototype.selectColor=function(){var e=this;$(".js-product-color").on("click",function(){e.writeTextColor($(this))});var t=$(".js-product-color.selected");t.length&&e.writeTextColor(t)},Product.prototype.writeTextColor=function(e){var t=e.closest("form").find(".js-product-selected-color-title"),i=e.data("color-title");t.length&&i?t.html('<i class="fal fa-minus icon"></i> '+i):t.html("")},Product.prototype.updateURLSku=function(e){function t(e){var t={};return e=e.split("&"),$.each(e,function(e,i){if(i){var s=i.split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]?s[1]:"")}}),t}function i(e){var t="",i=[];return $.each(e,function(e,t){i.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),i.length&&(t="?"+i.join("&")),t}var s="sku",a=t(window.location.search.substring(1));e?a[s]=e:delete a[s];var o=i(a),r=location.origin+location.pathname+o+location.hash;"function"==typeof history.replaceState&&history.replaceState(null,document.title,r)},Product.prototype.updateFeaturesList=function(e){var t=$(".js-product-features");if(void 0!==this.sku_features&&void 0!==this.product_skus_features[e]&&t.length){var i=this.sku_features,s=this.product_skus_features[e],a=parseInt(this.short_features_count),o=this.short_features_codes?this.short_features_codes.split(","):[];if(void 0!==this.schema_itemprops)var r=this.schema_itemprops;t.each(function(){var e=$(this).find("table"),t=$(this).data("short"),n=$(this).data("schema-org");e.html("");var l,d=1;for(var c in s){var u=s[c],f=void 0!==i[c].type&&"divider"==i[c].type;if(void 0===i[c]&&void 0!==i[c+".0"]&&(i[c]=i[c+".0"],i[c].name=i[c+".0"].name),void 0!==i[c].type){if(t&&a&&d>a)break;if(t&&o.length&&-1===$.inArray(c,o))continue;if(t&&f)continue;var p="product_features-item";f&&(p+=" divider"),l='<tr class="'+p+'">',l+='<td class="product_features-title">',l+="<span>"+i[c].name+"</span>",l+="</td>";var h="",m=null;n&&void 0!==r&&($.each(r,function(e,t){e==c&&(m=t)}),null!==m&&(h=' itemprop="'+m+'"'),null!==m&&"brand"==m&&(h+=' itemscope itemtype="https://schema.org/Brand"',u='<span itemprop="name">'+u+"</span>")),l+='<td class="product_features-value"'+h+">",f||(t&&"color"==i[c].type&&(l+='<span class="product_features__colors-short">'),l+=u,t&&"color"==i[c].type&&(l+="</span>")),l+="</td>",l+="</tr>",e.append(l),d++}}})}};var ProductCardGallery={init:function(){var e=this;e.productPreviewsCarousel(),e.selectedPreviewImage(),e.popup(),e.popupVideo(),e.swipeLargePhoto($(".js-product-gallery-main")),is_touch_device()||e.productImageZoom($(".js-product-gallery-main-el").first());var t=$(".js-product-gallery-main-el").first().find("img");t.length&&$.Retina&&t.retina()},productMainImageInitCarousel:function(e,t){var i=this,s=0;if(e.length&&!e.hasClass("owl-loaded")){var a=e.closest(".js-product").find(".js-gallery-preview.selected");a.length&&"0"!=a.data("position")&&(s=parseInt(a.data("position"))),e.owlCarousel({loop:!1,nav:!1,margin:0,items:1,lazyLoad:!0,autoHeight:!1,dots:!1,startPosition:s,mouseDrag:!1,onLoadedLazy:function(e){var t=$(e.currentTarget);t.length&&$.Retina&&t.find(".owl-item.active .owl-lazy").retina()},onInitialized:function(){is_touch_device()||i.productImageZoom(e.find(".js-product-gallery-main-el")),i.displayImageTitle(e)},onChanged:function(e){var t=$(e.currentTarget),i=e.item.index,s=t.find('.js-product-gallery-main-el[data-position="'+i+'"]'),a=s.data("id");if("video"==s.data("id")&&!s.find("iframe").length){var o=s.data("video-url"),r=s.data("video-width"),n=s.data("video-height");s.html('<iframe src="'+o+'" width="'+r+'" height="'+n+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}if(a){var l=t.closest(".js-product").find(".js-gallery-preview");l.removeClass("selected");l.filter("[data-id='"+a+"']").addClass("selected")}},onDragged:function(e){var t=$(e.currentTarget);if(t.length){var s=t.closest(".js-product").find(".js-gallery-preview"),a=$(t).find(".owl-item.active .js-product-gallery-main-el"),o=a.data("id");if(o){s.removeClass("selected");var r=s.filter("[data-id='"+o+"']");r.addClass("selected")}i.displayImageTitle(t),i.productPreviewsCarouselGoTo(r.data("position"))}}}),t&&("prev"==t?e.trigger("next.owl.carousel"):"next"==t&&e.trigger("prev.owl.carousel"))}},productPreviewsCarousel:function(e){e||(e=$(".js-gallery-previews-carousel"));var t=contentCols.getCount(e.closest(".js-content-cols")),i=(e.closest(".js-content-cols").length,0),s=(e.find(".js-gallery-preview").length,{500:{items:4},600:{items:5},700:{items:6},800:{items:3},900:{items:4},1180:{items:5},1350:{items:6}});2==t?s={500:{items:4},600:{items:5},700:{items:6},800:{items:3},1300:{items:4},1450:{items:5}}:3==t&&(s={500:{items:4},600:{items:5},700:{items:6},800:{items:3},1400:{items:4}});var a={loop:!1,nav:!0,lazyLoad:!0,autoHeight:!1,dots:!1,startPosition:i,responsive:s,navText:['<span class="carousel-prev carousel-prev--mini bs-color"></span>','<span class="carousel-next carousel-next--mini bs-color"></span>'],navElement:"div",mouseDrag:!1,onInitialized:function(e){var t=$(e.currentTarget);t.find(".owl-nav").hasClass("disabled")?t.closest(".js-outer").addClass("none-nav"):t.closest(".js-outer").removeClass("none-nav")},onResized:function(e){var t=$(e.currentTarget);t.find(".owl-nav").hasClass("disabled")?t.closest(".js-outer").addClass("none-nav"):t.closest(".js-outer").removeClass("none-nav")}};e.length&&e.owlCarousel(a),e.data("loop")&&e.find(".owl-item:not(.active)").length&&(e.trigger("destroy.owl.carousel"),a.loop=!0,e.owlCarousel(a))},productPreviewsCarouselGoTo:function(e){var t=$(".js-gallery-previews-carousel");if(t.length&&e){t.find(".js-gallery-preview").filter("[data-position='"+e+"']").parent().is(".active")||t.trigger("to.owl.carousel",[parseInt(e),300])}},selectedPreviewImage:function(){var e=this;$("body").on("click",".js-gallery-preview a",function(t){t.preventDefault(),e.selectLargePhoto($(this),!1)})},popup:function(){var e=this;$("body").on("click",".js-product-image-popup, .js-gallery-preview-else",function(t){t.preventDefault();var i=$(this).closest(".js-product").find(".js-product-gallery-main");i.data("photoswipe")?e.popupPhotoswipe($(this),i):e.popupSwipebox($(this),i)})},popupPhotoswipe:function(e){var t=e.closest(".js-product").find(".js-product-image-popup"),i=t.closest(".js-product-gallery-main");$("body").on("click",".pswp button",function(e){e.preventDefault()});var s=e.closest(".js-product").find(".js-gallery-preview"),a=e.closest(".js-product").find(".js-product-gallery-main-el"),o=document.querySelectorAll(".pswp")[0],r=e.data("position"),n=[];i.find('[data-id="video"][data-position="0"]').length&&r>0&&(r-=1),s.length?s.each(function(){var e=$(this);e.data("video")||n.push({src:e.find("a").attr("href"),w:0,h:0})}):a.length&&n.push({src:a.attr("href"),w:0,h:0});var l={index:r,shareEl:!1,history:!1},d=new PhotoSwipe(o,PhotoSwipeUI_Default,n,l);d.listen("gettingData",function(e,t){if(t.w<1||t.h<1){var i=new Image;i.onload=function(){t.w=this.width,t.h=this.height,d.updateSize(!0)},i.src=t.src}}),d.init()},popupSwipebox:function(e){function t(){var e=$("#swipebox-close");e.length&&e.trigger("click")}var i=e.closest(".js-product").find(".js-product-image-popup"),s=i.closest(".js-product-gallery-main"),a=s.data("popup-previews"),o=e.closest(".js-product").find(".owl-item:not(.cloned) .js-gallery-preview"),r=[],n=e.data("position");s.find('[data-id="video"][data-position="0"]').length&&n>0&&(n-=1),o.length||(o=e.closest(".js-product").find(".js-gallery-preview")),o.length?o.each(function(){$(this).data("video")||r.push({href:$(this).find("a").attr("href"),src:$(this).find("img").attr("src")})}):r.push({href:e.attr("href"),src:e.find("img").attr("src")}),$(document).on("scroll",t),$(document).on("click","#swipebox-overlay",t),$(document).on("click","img, #swipebox-bottom-bar, .js-swipebox-thumbs-el",function(e){e.stopPropagation()}),$.swipebox(r,{useSVG:!1,hideBarsDelay:!1,loopAtEnd:!0,thumbs:!0,initialIndexOnArray:n,afterOpen:function(){if(a&&r.length>1){var e="",t=parseInt($("#swipebox-slider .slide.current").data("index"));r.forEach(function(i,s){var a="swipebox-thumbs_el js-swipebox-thumbs-el";t===s&&(a+=" active"),1==i.is_video?e+='<a class="'+a+'" data-index="'+s+'" href="'+i.href+'"><i class="swipebox-preview-video fas fa-video bs-color"></i></a>':e+='<a class="'+a+'" data-index="'+s+'" href="'+i.href+'"><img src="'+i.src+'" /></a>'}),$("#swipebox-container").append('<div id="swipebox-thumbs" class="swipebox-thumbs">'+e+"</div>"),$("#swipebox-slider").css("padding-bottom",parseInt($("#swipebox-thumbs").outerHeight())+30+"px")}$("#swipebox-bottom-bar").addClass("swipebox-bottom-bar--pos-center"),$("#swipebox-arrows").addClass("swipebox-arrows--pos-center")}})},swipeLargePhoto:function(e){is_touch_device()&&e.swipe({allowPageScroll:"auto",threshold:20,swipe:function(e,t,i,s,a,o){var r=$(e.target).closest(".js-product").find(".js-product-gallery-main");"left"==t?ProductCardGallery.productMainImageInitCarousel(r,"prev"):"right"==t&&ProductCardGallery.productMainImageInitCarousel(r,"next")}})},selectLargePhoto:function(e,t){var i=this,s=e.parent(),a=s.data("id"),o=e.closest(".js-product").find(".js-product-gallery-main"),r=o.find(".js-product-gallery-main-el");if(o.hasClass("owl-loaded")||i.productMainImageInitCarousel(o),void 0==t&&(t=!0),s.closest(".js-product").find(".js-gallery-preview").removeClass("selected"),s.addClass("selected"),a){var n=r.filter("[data-id='"+a+"']").data("position");void 0!==n&&(o.trigger("to.owl.carousel",[n,300]),i.displayImageTitle(o)),t&&i.productPreviewsCarouselGoTo(n)}},productImageZoom:function(e){var t=e.closest(".js-product-gallery-main");e.length&&t.length&&t.data("zoom")&&e.each(function(){$(this).find("img").hasClass("zoomImg")||$(this).zoom({url:$(this).attr("href"),onZoomIn:function(){$(this).parent().addClass("zooming")},onZoomOut:function(){$(this).parent().removeClass("zooming")}})})},displayImageTitle:function(e){var t=e.closest(".js-product").find(".js-product-gallery-title"),i=e.find(".owl-item.active");if(t.text(""),t.length&&i.length){var s=i.find("img").attr("alt");s&&t.text(s)}},popupVideo:function(){$("body").on("touchstart touchend touchup",".js-mfp-fade-product-video",function(e){e.stopPropagation()}),$("body").on("click",".js-gallery-popup-video a",function(e){e.preventDefault();var t=$(this).attr("href");t&&$.magnificPopup.open({items:{src:t},type:"iframe",mainClass:"mfp-fade js-mfp-fade-product-video",removalDelay:160,preloader:!1,fixedContentPos:!1,iframe:{patterns:{youtube_short:{index:"youtu.be/",id:"youtu.be/",src:"//www.youtube.com/embed/%id%?autoplay=1"}}}},0)})}};$(function(){globalThemeSettings.isMobile||responsiveMenu.init(),globalThemeSettings.isDisplayFontAwesome&&displayFontAwesome.init(),slider.init(),ProductCardGallery.init(),main.init(),mobilePopupBlocks.init(),mobileMenu.init(),openMap.init(),form.init(),dropDownList.init(),subscribeForm.init(),moreText.init(),anchorLink.init(),tabs.init(),accordionTabs.init(),modalForm.init(),countdown.init(),productListUser.init(),cart.init(),sidebarMobileMenu.init(),pagesTree.init(),switchVersionSite.init(),videoPopup.init(),infoMessage.init($(".js-info-massage")),popupAdvert.init($(".js-popup-advert")),productsPreviewList.init(),productsCarousel.init(),categoriesImages.init(),customGalleryPopup.init(),contentPopup.init(),fixedCart.init(),globalThemeSettings.isFixedHeader&&headerFixed.init(),globalThemeSettings.isFixedHeaderMobile&&headerMobileFixed.init(),globalThemeSettings.isTileGalleryProductPreview&&new productTileGallery,globalThemeSettings.isDemoSettings&&demoTest.init(),globalThemeSettings.isHorizontalMainMenu&&categoriesHorizontalMenu.init(),globalThemeSettings.isMobile||(categoriesVerticalMenu.init(),categoriesVerticalMenuUnfolding.init(),sidebarCarousel.init(),cartPreview.init(),headerMenu.init()),new SocialWidgets({container:".js-social-widgets",timeAutoSwitch:5e3})}),$.fn.elementRealWidth=function(){$clone=this.clone().css("visibility","hidden").appendTo($("body"));var e=$clone.outerWidth(!0);return $clone.remove(),e},jQuery.fn.outerHTML=function(e){return e?this.before(e).remove():jQuery("<p>").append(this.eq(0).clone()).html()},$.fn.pop=function(){var e=this.get(-1);return this.splice(this.length-1,1),e},$.fn.shift=function(){var e=this.get(0);return this.splice(0,1),e},$.urlParam=function(e,t){var i=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null==i?null:i[1]||0},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};