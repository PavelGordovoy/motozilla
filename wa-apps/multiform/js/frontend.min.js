if("undefined"==typeof jQuery){var script=document.createElement("script");script.src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js",document.getElementsByTagName("head")[0].appendChild(script)}else{var MultiformForm=function(t){(MultiformForm=function(t){this.$form=t.form,this.initClass()}).prototype.initClass=function(){if(this.$form.hasClass("inited"))return!1;this.initSubmit(),this.bindEvents(),t(".multiform-wrap .has-condition :input:not(':file'), .multiform-wrap .has-condition select, .multiform-wrap .has-condition textarea").on("change keyup paste input",function(){var e=t(this),i=(e.closest(".has-condition").data("condition")+"").split(","),r=e.closest(".multiform-wrap");for(var n in i)t.multiformFrontend.condition.checkCondition(i[n],r)}),t(".multiform-gap-captcha img").click(function(){var e=t(this);return e.hide().after("<img src='"+t.multiformFrontend.appUrl+"css/loading16.gif'>"),e.attr("src",e.attr("src").replace(/\?.*$/,"?form_uid="+e.closest(".multiform-wrap").attr("data-uid")+"&rid="+Math.random())),e.one("load",function(){e.next("img").remove(),e.show().next("input").focus()}),e.next("input").val(""),!1}),t(".multiform-popup-link").click(function(){return t.multiformFrontend.dialog.show(t(this)),!1}),t(".multiform-popup-link a").click(function(){return t(this).closest(".multiform-popup-link").click(),!1})},MultiformForm.prototype.initSubmit=function(){t(".multiform-wrap input[type='submit']").click(function(){return t.multiformFrontend.execute(t(this)),!1})},MultiformForm.prototype.bindEvents=function(){}}(jQuery),MultiformScripts=function(t){return{init:function(e){var i=this;e.find(".multiform-gap-field").each(function(){i.initDatepicker(t(this))})},initDatepicker:function(e,i,r){r=r||"",i=i||{};let n=e.find(".multiform-datepicker");if(n.length){let o=t.extend(n.data("params"),i),a=n.attr("data-setDefault")||r;n.data("params",JSON.stringify(o)),o.onSelect=function(i,r){let n=r.split("-");e.find(".multiform-day").length&&void 0!==n[2]&&e.find(".multiform-day").val(function(){return t(this).is("select")?parseInt(n[2]):n[2]}).trigger("change"),e.find(".multiform-month").length&&void 0!==n[1]&&e.find(".multiform-month").val(function(){return t(this).is("select")?parseInt(n[1]):n[1]}).trigger("change"),e.find(".multiform-year").length&&void 0!==n[0]&&e.find(".multiform-year").val(function(){return t(this).is("select")?parseInt(n[0]):n[0]}).trigger("change"),e.find(".multiform-full-date").length&&(e.find(".multiform-full-date").val(i).attr("data-value",r).trigger("change"),e.find(".multiform-formatted-date").val(r)),e.closest(".multiform-wrap").change()},void 0===n.data("Zebra_DatePicker")?(n.Zebra_DatePicker(o),a&&n.attr("data-setDefault",a).data("Zebra_DatePicker").setDefault(a)):n.data("Zebra_DatePicker").update()}},initFileupload:function(e,i){e.attr("data-params",JSON.stringify(i)),t.multiformFrontend.initFileuploadFrontend(e,i)},initPhone:function(e){t.isFunction(t.fn.mfMask)&&e.mfMask(e.data("field-mask")).addClass("inited")},initRangeSlider:function(t,e){t.attr("data-params",JSON.stringify(e)),t.ionRangeSlider(e)},initTime:function(e){t.isFunction(t.fn.mfMask)&&e.find(".multiform-full-time").mfMask("00:00:00")}}}(jQuery);!function(t){t.multiformFrontend={locale:"",eventOrigin:"",eventSource:{},init:function(e){const i=this;if(!this.inited){this.appUrl=e.appUrl||"",this.locale=e.locale||"en_US",this.frontendLocaleStrings=e.frontendLocaleStrings||{},t.ig_frontend_locale=t.extend(this.frontendLocaleStrings,t.ig_frontend_locale),window.__=puttext(t.ig_frontend_locale),t(".multiform-wrap button[data-submit]").click(function(){return t.multiformFrontend.execute(t(this)),!1}),t(".multiform-wrap button[data-redirect]").click(function(){var e=t(this);return e.data("onblank")?window.open(e.data("link"),"_blank"):window.location.href=e.data("link"),!1});t(".multiform-wrap .has-condition :input:not(':file'), .multiform-wrap .has-condition select, .multiform-wrap .has-condition textarea").off("change keyup paste input").on("change keyup paste input",function(){var e=t(this),i=(e.closest(".has-condition").data("condition")+"").split(","),r=e.closest(".multiform-wrap");for(var n in i)t.multiformFrontend.condition.checkCondition(i[n],r)}),t(".multiform-gap-captcha img").off("click").on("click",function(){var e=t(this);return e.hide().after("<img src='"+t.multiformFrontend.appUrl+"css/loading16.gif'>"),e.attr("src",e.attr("src").replace(/\?.*$/,"?form_uid="+e.closest(".multiform-wrap").attr("data-uid")+"&rid="+Math.random())),e.one("load",function(){e.next("img").remove(),e.show().next("input").focus()}),e.next("input").val(""),!1}),t(document).off("click",".multiform-popup-link").on("click",".multiform-popup-link",function(){return t.multiformFrontend.dialog.show(t(this)),!1}),t(document).off("click",".multiform-popup-link a").on("click",".multiform-popup-link a",function(){return t(this).closest(".multiform-popup-link").click(),!1}),t(document).off("click",".multiform-wrap .multiform-section-multiply-inner").on("click",".multiform-wrap .multiform-section-multiply-inner",function(){let e=t(this),r=e.closest(".multiform-section"),n=r;if(r.hasClass("cloned-section")?n=r.closest(".cloned-sections").closest(".type-section"):r.find("> .cloned-sections").length||r.append('<div class="cloned-sections"></div>'),"add"==e.attr("data-action")){let r=e.attr("data-remove-link"),o=n.find("> .multiform-section-multiply").first(),a=o.attr("data-limit"),l=n.clone(),d=o.clone(),s=n.find("> .cloned-sections > .cloned-section").length+1;a&&n.find('> .cloned-sections .type-section[data-id="'+n.attr("data-id")+'"]').length+1>parseInt(a)&&e.closest(".multiform-section-multiply").hide(),d.show().attr("data-action","remove").find(".multiform-section-multiply-inner").attr("data-action","remove").html(r),l.attr("data-parent-id",n.attr("data-id")).addClass("cloned-section").removeAttr("id").find(".type-formula, .type-button").remove(),l.find(".cloned-sections").remove(),l.find(".errormsg").remove(),l.find(".multiform-error-field").removeClass("multiform-error-field"),l.find(".has-condition").removeClass("has-condition"),l.find(":input, select, textarea").each(function(e){let i=t(this),r=i.attr("name");if(r){let t="",o="";if(new RegExp(/fields/).test(r)){let e=r.match(/fields(.*)/);t+="cloned_section["+n.attr("data-field-id")+"]["+s+"]"+e[1]}else{let e=r.split(/cloned_section\]?(\[\d+\]\[\d+\])/),i=e.length;t="cloned_section";for(let r in e){let a=e[r=parseInt(r)];"["!==a&&""!==a&&(i-1===r&&(t+="["+n.attr("data-field-id")+"]["+s+"]",o+=n.attr("data-field-id")+"."+s),t+=a,i-1!==r&&(o+=a.substring(1,a.length-1).replace("][","."),t+="[cloned_section]",o+="._."))}}i.attr("name",t).attr("id",t+e).attr("data-index",o),"file"===i.attr("type")&&i.attr("data-name","files_"+i.attr("data-field-id")+"_"+o.replace(/\./g,"_")+"[]"),i.is(":radio")&&i.parent().is(".multiform-rating")&&i.next("label").attr("for",t+e)}}),l.find(":radio, :checkbox").closest("label").removeAttr("for"),l.find(".type-section .multiform-section-multiply").show(),l.find('> .multiform-section-multiply[data-action="remove"]').remove(),l.find('> .multiform-section-multiply[data-action="add"]').before(d).show(),e.closest(".multiform-section-multiply").hide(),a&&n.find('> .cloned-sections .type-section[data-id="'+n.attr("data-id")+'"]').length+1>=parseInt(a)&&l.find('> .multiform-section-multiply[data-action="add"]').hide(),i.reinitScriptsByParams(l),n.find("> .cloned-sections").append(l)}else r.remove(),n.find('> .cloned-sections .type-section[data-id="'+n.attr("data-id")+'"]:last > .multiform-section-multiply').show(),n.find("> .cloned-sections .type-section").length||n.find("> .multiform-section-multiply").show()}),t(document).off("multiform-form-opened",".multiform-wrap").on("multiform-form-opened",".multiform-wrap",function(){var e=t(this);t.isFunction(t.fn.mfMask)&&e.find(".type-phone .f-mask:not(.inited)").each(function(){var e=t(this);e.mfMask(e.data("field-mask")),e.addClass("inited")});setTimeout(function(){void 0!==t.multiformFrontend.updateFormula&&t.multiformFrontend.updateFormula(e)},10)}),this.addEvent(window,"message",function(e){if("string"==typeof e.data&&"resizeMultiform"==e.data.substring(0,15)){t.multiformFrontend.eventOrigin=e.origin;var i=e.data.split("|");if(void 0!==i[1]&&parseInt(i[1])){var r=i[1],n=parseInt(t(".multiform-wrap[data-id='"+r+"']")[0].scrollHeight)+100;t.multiformFrontend.eventSource[r]=e.source,t.multiformFrontend.postMessageAction(e.source,n+"|"+r)}}}),t(document).off("multiform-loaded",".multiform-wrap").on("multiform-loaded",".multiform-wrap",function(){MultiformScripts.init(t(this))}),t.ajaxSetup({cache:!1}),this.inited=1}},reinitScriptsByParams:function(e){e.find(".multiform-gap-field").each(function(){let e=t(this);switch(e.data("type")){case"date":let t=e.find(".multiform-datepicker");t.length&&(e.find(".Zebra_DatePicker_Icon_Wrapper").before(t),e.find(".Zebra_DatePicker_Icon_Wrapper").remove(),setTimeout(function(){MultiformScripts.initDatepicker(e)},5));break;case"file":e.find(".multiform-files").remove();let i=e.find(".multiform-fileupload");i.length&&MultiformScripts.initFileupload(i,i.data("params"));break;case"phone":MultiformScripts.initPhone(e.find(".f-mask"));break;case"number":e.find(".irs").remove();let r=e.find(".range-slider");r.length&&(r.removeClass("irs-hidden-input"),MultiformScripts.initRangeSlider(r,r.data("params")));break;case"time":let n=e.find(".multiform-full-time");n.length&&MultiformScripts.initTime(n)}})},dialog:{show:function(e){var i=this;t(".multiform-popup-window").length&&t(".multiform-popup-window").find(".multiform-wrap").each(function(){t("multiform-body[data-id='"+t(this).data("id")+"']").append(t(this).removeAttr("style"))});t(".multiform-popup-window, .multiform-overlay").remove(),t("body").addClass("multiform-popup-overlay").append("<div class='multiform-popup-window'></div>");var r=e.closest(".multiform-body").find(".multiform-wrap");t(".multiform-body[data-id='"+r.data("id")+"']").attr("data-old-style",r.attr("style")),t("<a href='javascript:void(0)' class='s-close' title='"+__("Close")+"'>x</a>").click(function(){i.hide(r,e)}).appendTo(r),r.appendTo(t(".multiform-popup-window")),t("<div class='multiform-overlay'></div>").click(function(){i.hide(r,e)}).appendTo("body"),setTimeout(function(){t(".multiform-overlay, .multiform-popup-window .multiform-wrap").animate({opacity:1},function(){r.trigger("multiform-form-opened")})},0),this.autoSize(r),r.hasClass("inited-popup")||setTimeout(function(){r.find("input.range-slider").each(function(){t(this).val(t(this).data("value")).next().find(".range-slider-output").text(t(this).data("value"))}),r.find(".multiform-gap-field.type-date").each(function(){MultiformScripts.initDatepicker(t(this))}),r.addClass("inited-popup")},50),t(window).on("resize",function(){i.updatePopupSize(r)})},hide:function(e,i){t(".multiform-popup-window").fadeOut(200,function(){var r=i.closest(".multiform-body");e.removeAttr("style").attr("style",r.attr("data-old-style")),r.append(e),t(this).remove(),t(".multiform-overlay").remove(),t("body").removeClass("multiform-popup-overlay")})},updatePopupSize:function(t){t.hasClass("inited-popup")&&(t.css("height","auto"),t.attr("data-real-height",t.outerHeight()),this.autoSize(t))},autoSize:function(e){e.hasClass("inited-popup")||e.attr("data-real-height",e.outerHeight());var i=e.attr("data-real-height"),r=e.width(),n=t(window).height(),o=t(window).width();i>n&&e.css("height",n-90+"px"),r>o&&e.width(o-10),this.center(e)},center:function(t){var e=t.outerWidth(),i=t.outerHeight(),r=-1*Math.max(0,i/2),n=-1*Math.max(0,e/2);t.css("marginTop",r+"px"),t.css("marginLeft",n+"px")}},appUrl:null,updateEvent:null,conditions:{},execute:function(e){var i=e.closest(".multiform-wrap"),r=i.find(".multiform-errorfld .errormsg");e=i.find("button[data-submit]");var n=function(n){""!==n&&r.html(n).css("display","inline-block"),t.multiformFrontend.changeFrameSize(i),t.multiformFrontend.dialog.updatePopupSize(i),i.hasClass("inited-popup")&&i.scrollTop(e.position().top)},o=function(i){e.hide(),e.next(".multiform-temp-loading").length?e.next(".multiform-temp-loading").find("span").text(i):e.after('<div class="multiform-temp-loading" style="display: inline-block !important;"><span>'+(i||"")+"</span><img src='"+t.multiformFrontend.appUrl+"css/loading16.gif' class='multiform-temp-loading' style='width: auto !important; display: inline-block !important; height: auto !important;' /><div>")};if(r.html("").hide(),i.find(".errormsg").hide(),i.find(".multiform-error-field").removeClass("multiform-error-field"),t.multiformFrontend.validate.requiredFields.execute(i))return n(__("Fill in the required fields")),!1;if(i.find(".multiform-temp-file.error").length)return n(__("Added files are not valid")),!1;if(!t.multiformFrontend.validate.masks(i))return n(__("Fix the errors above")),!1;var a=0;return t.each(t.multiformFrontend.validate.others,function(t,e){if("function"==typeof e&&!e(i))return a=!0,!1}),a?(n(__("Fix the errors above")),!1):(o(__("Please, wait, while data is saving")),t.ajax({url:i.data("action"),data:i.find(":input, textarea, select").serializeArray(),dataType:"json",type:"post",crossDomain:!1,success:function(r){if(e.show().next(".multiform-temp-loading").remove(),"ok"==r.status&&r.data){var a=i.find(".multiform-gap-field.type-file").not(".multiform-hide");if(a.length){var l="",d="",s=0;if(a.each(function(){var e=t(this);if(e.closest(".multiform-hide").length)return!0;d=e.find(".multiform-temp-file"),s+=e.find(".multiform-temp-file-name").length,!l.length&&d.length&&(l=d.find(".multiform-cell").parent().first())}),l.length){i.attr("data-files",s).attr("data-files-done",d.filter(".f-abstract").length?d.filter(".f-abstract").length:0);var f=l.data("file");if(void 0!==f)return o(__("Files uploading")),f.formData.record_id=r.data.id,f.submit(),!1}}void 0!==r.data.has_files&&(o(__("Saving")),t.post(i.data("action"),{data:"files",record_id:r.data.id,isLast:1,_csrf:i.find("input[name='_csrf']").val()},function(e){t.multiformFrontend.postExecute(i,e)},"json")),void 0!==r.postExecute&&t.multiformFrontend.postExecute(i,r)}else if(void 0!==r.errors){if(void 0!==r.errors.messages){var m="";t.each(r.errors.messages,function(t,e){m+=e+"<br>"}),n(m)}void 0!==r.errors.fields&&t.each(r.errors.fields,function(e,r){var n=i.find("#multiformField"+r.id+"_"+i.data("uid"));if(r.index&&""!==r.index&&0!==r.index){var o=r.index.split("_"),a="cloned_section";for(var e in o)"0"!==e&&(a+="[cloned_section]"),a+="["+o[e].replace("-","][")+"]";a+="[field_"+r.id+"_"+i.data("uid")+"]",n=i.find('[name^="'+a+'"]')}t.multiformFrontend.validate.addError(n,"",!1)})}else n(__("Something wrong. Please, reload the page"))},error:function(){n(__("Something wrong. Please, reload the page")),e.show().next(".multiform-temp-loading").remove()}}),!1)},postExecute:function(e,i){var r=e.find(".multiform-errorfld .errormsg"),n=e.find("button[data-submit]");if(n.show().next(".multiform-temp-loading").remove(),void 0===i)return r.html(__("Data saved with errors")),t.multiformFrontend.changeFrameSize(e),t.multiformFrontend.dialog.updatePopupSize(e),!1;if("ok"==i.status&&i.data){if(void 0!==i.data.redirect)return n.hide().after('<div class="multiform-temp-loading" style="display: inline-block !important;"><span>'+__("Wait, please. Redirecting")+"</span><img src='"+t.multiformFrontend.appUrl+"css/loading16.gif' class='multiform-temp-loading' style=\"display: inline-block !important; height: auto !important;\" alt='"+__("Loading")+"...' /><div>"),location.href=i.data.redirect,t.multiformFrontend.changeFrameSize(e),t.multiformFrontend.dialog.updatePopupSize(e),!1;e.closest(".multiform-popup-window").length||e.closest(".record-page").length||t("html, body").animate({scrollTop:n.closest(".multiform-wrap").offset().top-50},800),n.closest(".multiform-wrap").trigger("multiform-form-submitted"),void 0!==i.data.message&&(e.find(".multiform-gap-fields").html(i.data.message),n.remove()),void 0!==i.data.js_callback&&e.find(".multiform-gap-fields").append(i.data.js_callback)}else if(void 0!==i.errors){if(void 0!==i.errors.messages){var o="";t.each(i.errors.messages,function(t,e){o+=e+"<br>"}),""!==o&&r.html(o).css("display","inline-block")}void 0!==i.errors.fields&&t.each(i.errors.fields,function(i,r){t.multiformFrontend.validate.addError(e.find("#multiformField"+r+"_"+e.data("uid")),"",!1)})}else r.html(__("Something wrong. Please, reload the page"));t.multiformFrontend.changeFrameSize(e),t.multiformFrontend.dialog.updatePopupSize(e)},condition:{checkCondition:function(e,i){if(void 0!==t.multiformFrontend.conditions[e]&&void 0!==t.multiformFrontend.conditions[e].params){var r,n,o=t.multiformFrontend.conditions[e].params,a=[];for(var l in o)"function"==typeof this["operator_"+o[l].operator]&&this["operator_"+o[l].operator](this.getValue(o[l].source,o[l].source_ext,i),o[l].value)&&a.push(1);r=1==t.multiformFrontend.conditions[e].andor?a.length===o.length:a.length>0,n="show"==t.multiformFrontend.conditions[e].action?r:!r;var d=i.find("#multiformField"+t.multiformFrontend.conditions[e].target+"_"+i.data("uid"));if(d.length){n?(d.find(":input, textarea, select").prop("disabled",!1),d.show().removeClass("multiform-hide"),MultiformScripts.initDatepicker(d)):(d.find(":input, textarea, select").prop("disabled",!0),d.hide().addClass("multiform-hide"));i=d.closest(".multiform-wrap");t.multiformFrontend.changeFrameSize(i),i.hasClass("inited-popup")&&(i.attr("data-real-height",i.prop("scrollHeight")+parseInt(i.css("border-width"))),t.multiformFrontend.dialog.autoSize(i))}}},getValue:function(e,i,r){var n,o=r.data("uid"),a=r.find("#multiformField"+e+"_"+o);if(i=i||0,a.length){var l="get_"+a.data("type");n="function"==typeof t.multiformFrontend.condition[l]?t.multiformFrontend.condition[l](a,i):a.find("#wahtmlcontrol_fields_field_"+e+"_"+o).val()}return n},get_date:function(t,e){var i,r=t.find(".multiform-full-date");if(r.length){var n=(r.hasClass("multiform-datepicker")||r.prop("readonly")?r.attr("data-value"):r.val()).split("-");switch(n.length){case 3:i=Date.UTC(n[0],n[1],n[2]);break;case 2:i=Date.UTC(n[0],n[1],0);break;case 1:i=Date.UTC(n[0],0,0);break;default:i=Date.UTC(0,0,0)}}else{var o=t.find(".multiform-year").length?t.find(".multiform-year").val():0,a=t.find(".multiform-month").length?t.find(".multiform-month").val():0,l=t.find(".multiform-day").length?t.find(".multiform-day").val():0;i=Date.UTC(o,a,l)}return i},get_time:function(t,e){var i,r=t.find(".multiform-full-time");if(r.length)i=this.getTimeFromString(r.val());else{var n=t.find(".multiform-hour").length?t.find(".multiform-hour").val():0;if(t.find(".time-formats").length){var o=t.find(".time-formats select").val();n<12&&"pm"==o?n=parseInt(n)+12:"12"==n&&"am"==o&&(n=0)}var a=t.find(".multiform-minute").length?t.find(".multiform-minute").val():0,l=t.find(".multiform-second").length?t.find(".multiform-second").val():0;i=Date.UTC(1970,1,1,n,a,l)}return i},get_checkbox:function(t,e){var i;return i=(i=t.find("#fields\\[field_"+t.data("field-id")+"_"+t.closest(".multiform-wrap").data("uid")+"\\]-"+e).prop("checked"))?"checked":i},get_radio:function(t,e){return t.find("#wahtmlcontrol_fields_field_"+t.data("field-id")+"_"+t.closest(".multiform-wrap").data("uid")+" input:checked").data("id")},get_select:function(t,e){return t.find("#wahtmlcontrol_fields_field_"+t.data("field-id")+"_"+t.closest(".multiform-wrap").data("uid")+" option:selected").data("id")},get_rating:function(t,e){return t.find("input:checked").val()},get_table_grid:function(t,e){return t.find("input[data-statement='"+e+"']:checked").data("column")},get_number:function(t,e){return t.find("input").val()},get_formula:function(e,i){return t.multiformFrontend.condition.get_number(e,i)},getTimeFromString:function(t){var e,i=t.split(":");switch(i.length){case 3:e=Date.UTC(1970,1,1,i[0],i[1],i[2]);break;case 2:e=Date.UTC(1970,1,1,i[0],i[1],0);break;case 1:e=Date.UTC(1970,1,1,i[0],0,0);break;default:e=Date.UTC(1970,1,1)}return e},operator_is:function(t,e){return t==e},operator_is_not:function(t,e){return t!==e},operator_contains:function(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1},operator_begins_with:function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())},operator_ends_with:function(t,e){return t.toLowerCase().lastIndexOf(e.toLowerCase())===t.length-e.length},operator_doesnt_contain:function(t,e){return t.toLowerCase().indexOf(e.toLowerCase())<=-1},operator_is_blank:function(t,e){return""==t},operator_is_not_blank:function(t,e){return""!==t},operator_is_equal_to:function(t,e){return Math.abs(parseFloat(t)-parseFloat(e))<1e-6},operator_is_not_equal_to:function(t,e){return Math.abs(parseFloat(t)-parseFloat(e))>=1e-6},operator_is_greater_than:function(t,e){return parseFloat(t)>parseFloat(e)},operator_is_less_than:function(t,e){return parseFloat(t)<parseFloat(e)},operator_is_on:function(t,e){var i=e.split("-");return t===Date.UTC(i[0],i[1],i[2])},operator_is_before:function(t,e){var i=e.split("-");return t<Date.UTC(i[0],i[1],i[2])},operator_is_after:function(t,e){var i=e.split("-");return t>Date.UTC(i[0],i[1],i[2])},operator_is_at:function(t,e){return t===this.getTimeFromString(e)},operator_is_time_before:function(t,e){return t<this.getTimeFromString(e)},operator_is_time_after:function(t,e){return t>this.getTimeFromString(e)}},validate:{regexp:function(t,e){var i=t||window.event,r=i.keyCode||i.which;r=String.fromCharCode(r),e.test(r)||0===t.charCode||(i.returnValue=!1,i.preventDefault&&i.preventDefault())},addError:function(e,i,r){var n=e.hasClass("multiform-gap-field")?e.find(".errormsg"):e.closest(".multiform-gap-field").find(".errormsg"),o=e.hasClass("multiform-gap-field")?e.find(".multiform-gap-value"):e.closest(".multiform-gap-value");i&&(n.length?n.html(i).show():(o.append("<div class='errormsg'>"+i+"</div>"),n=o.find(".errormsg"))),!r&&e.addClass("multiform-error-field"),e.click(function(){!r&&t(this).removeClass("multiform-error-field"),n.hide()})},fieldIsEmpty:function(t){this.addError(t,__("Field is required"))},requiredFields:{input:function(e){return e=e.find("input, textarea"),""!=t.trim(e.val())||(t.multiformFrontend.validate.fieldIsEmpty(e),!1)},textarea:function(t){return this.input(t)},email:function(t){return this.input(t)},phone:function(t){return this.input(t)},number:function(t){return this.input(t)},radio:function(e){var i=e.find(":checked");if(!i.length)return t.multiformFrontend.validate.fieldIsEmpty(e.find(".multiform-gap-value > div")),!1;if(i.is(":radio")){var r=i.closest(".multiform-gap-option").find(".multiform-other-field");if(r.length&&""==t.trim(r.val()))return t.multiformFrontend.validate.fieldIsEmpty(r),!1}return!0},checkbox:function(t){return this.radio(t)},table_grid:function(e){var i=!1;return t.each(e.find(".multiform-grid tbody tr"),function(){t(this).find("input:checked").length||(t.multiformFrontend.validate.fieldIsEmpty(t(this)),i=!0)}),!i},date:function(e){var i=!1;return t.each(e.find("input, select"),function(e,r){(t(r).is("input")&&""==t.trim(t(r).val())||t(r).is("select")&&!t(r).val())&&(i=!0,t.multiformFrontend.validate.fieldIsEmpty(t(this)))}),!i},time:function(t){return this.date(t)},rating:function(e){return!!e.find("input:checked").length||(t.multiformFrontend.validate.fieldIsEmpty(e.find(".multiform-rating")),!1)},file:function(e){return!!e.find(".multiform-temp-file").length||(t.multiformFrontend.validate.fieldIsEmpty(e.find("input")),!1)},select:function(e){return!e.find("option:first:selected").length||(t.multiformFrontend.validate.fieldIsEmpty(e.find("select")),!1)},execute:function(e){var i=this,r=!1;return t.each(e.find(".s-required").not(".multiform-hide"),function(e,n){if((n=t(n)).closest(".multiform-hide").length)return!0;var o=n.data("type");"function"==typeof i[o]&&(i[o](n)||(r=!0))}),r}},masks:function(e){var i=e.find(".f-mask");if(i.length){var r=!1;if(t.each(i,function(e,i){var n=t(i);if(!n.closest(".multiform-hide").length&&""!==n.val()){var o=n.data("field-mask");"phone"==n.closest(".multiform-gap-field").data("type")&&(o="^"+o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/\s/g,"s").replace(/[0]/g,"\\d")+"$");try{new RegExp(o,n.data("field-mask-casein")).test(n.val())||(r=!0,t.multiformFrontend.validate.addError(n,n.data("field-mask-error")))}catch(e){r=!0,t.multiformFrontend.validate.addError(n,e.message)}}}),r)return!1}return!0},others:{number:function(e){var i=e.find(".multiform-gap-field.type-number").not(".multiform-hide");if(i.length){var r=!1;if(t.each(i,function(e,i){if(t(i).closest(".multiform-hide").length)return!0;var n=t(i).find("input"),o=void 0!==n.attr("step")?n.attr("step"):void 0!==n.attr("data-step")?n.attr("data-step"):"",a=void 0!==n.attr("max")?n.attr("max"):void 0!==n.attr("data-max")?n.attr("data-max"):"",l=void 0!==n.attr("min")?n.attr("min"):void 0!==n.attr("data-min")?n.attr("data-min"):"",d=n.attr("integer"),s=parseInt(d)?parseInt(n.val()):parseFloat(n.val());if(""!==o||""!==a||""!==l){if(""!==l&&s<parseFloat(l))return r=!0,t.multiformFrontend.validate.addError(n,__("Value must be more than ")+l),!1;if(""!==a&&s>parseFloat(a))return r=!0,t.multiformFrontend.validate.addError(n,__("Value must be less than ")+a),!1;var f=t.multiformFrontend.countDecimals(o);if(""!==o&&0!==parseFloat(o)&&s*Math.pow(10,f)%(parseFloat(o)*Math.pow(10,f)!=0))return o=parseFloat(o),r=!0,t.multiformFrontend.validate.addError(n,__("Value must be a multiple of ")+o+". "+__("For example")+", "+o+", "+(2*o).toFixed(f)+", "+(3*o).toFixed(f)),!1}}),r)return!1}return!0},checkbox:function(e){var i=e.find(".multiform-gap-field.type-checkbox").not(".multiform-hide");if(i.length){var r=!1;if(t.each(i,function(e,i){if((i=t(i)).closest(".multiform-hide").length)return!0;var n=i.find(":checked").length,o=void 0!==i.data("max")&&""!==i.data("max")?parseInt(i.data("max")):0,a=void 0!==i.data("min")&&""!==i.data("min")?parseInt(i.data("min")):0;return a&&n<a?(r=!0,t.multiformFrontend.validate.addError(i,__("You have to select at least 1 checkbox","You have to select at least {n} checkboxes",a,{n:a})),!1):o&&n>o?(r=!0,t.multiformFrontend.validate.addError(i,__("Checkboxes cannot exceed 1 selected value","Checkboxes cannot exceed {n} selected values",o,{n:o})),!1):void 0}),r)return!1}return!0}}},countDecimals:function(t){if(Math.floor(t)!==t){var e=t.toString().split(".");return(void 0!==e[1]?e[1].length:0)||0}return 0},addEvent:function(t,e,i){t.attachEvent?(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event)},t.attachEvent("on"+e,t[e+i])):t.addEventListener(e,i,!1)},postMessageAction:function(e,i){window.postMessage&&t.multiformFrontend.eventOrigin&&e.postMessage(i,t.multiformFrontend.eventOrigin)},changeFrameSize:function(e){void 0!==t.multiformFrontend.eventSource[e.data("id")]&&t.multiformFrontend.postMessageAction(t.multiformFrontend.eventSource[e.data("id")],e[0].scrollHeight+100+"|"+e.data("id"))}}}(jQuery)}!function(define2){define2(function(){var pluralRe=/^Plural-Forms:\s*nplurals\s*=\s*(\d+);\s*plural\s*=\s*([^a-zA-Z0-9\$]*([a-zA-Z0-9\$]+).+)$/im;function format(t,e){return t.replace(/(^|.)?\{([^\}]+)\}/g,function(t,i,r){return"\\"===i?"{"+r+"}":(i=i||"")+e[r.split("#")[0].trim()]})}function parsePlural(header){var rv={pluralNum:2,isPlural:function(t){return 1!==t}};if(!header)return rv;var match=header.match(pluralRe);if(!match)return rv;if(rv.pluralNum=parseInt(match[1],10),1==rv.pluralNum)return rv.isPlural=function(){return 0},rv;var expr=match[2],varName=match[3],code="(function ("+varName+") { return "+expr+" })";try{rv.isPlural=eval(code)}catch(t){console.log("Could not evaluate: "+code)}return rv}function gettrans(t,e,i,r,n){if(!t||!t[i])return void 0!==n&&e(n)?r:i;var o=t[i];if(void 0===r&&void 0===n)return"string"==typeof o?o:o[0];if(void 0!==n&&"string"==typeof o)throw format('Plural number ({num}) provided for "{msg1}", but only singular translation exists: {trans}',{num:n,msg1:i,trans:o});return o[+e(n)]}return function(t){function e(t,i,r,n){"object"==typeof i&&void 0===r&&void 0===n&&(n=i,i=void 0);var o=gettrans(e.messages,e.plural,t,i,r);return n?format(o,n):o}return e.format=format,e.setMessages=function(t){e.messages=t;var i=parsePlural(t&&t[""]);e.pluralNum=i.pluralNum,e.plural=i.isPlural},e.setMessages(t),e}})}("undefined"!=typeof define2?define2:function(t){return"undefined"!=typeof module&&"undefined"!=typeof exports?module.exports=t():window.puttext=t()});