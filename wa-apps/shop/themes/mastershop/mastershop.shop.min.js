var filterForm={init:function(){var e=this;e.openParam(),e.rangeParam($(".js-filter-range")),e.dateParam(),e.showAllParams(),e.smartfilterRefreshHideParams(),e.clearSelectedFilter(),e.initFilterSubcategory()},openParam:function(){$(".js-filter-title").on("click",function(){var e=$(this),t=e.closest(".js-filter-param");t.hasClass("close")?t.removeClass("close"):t.addClass("close")})},rangeParam:function(e){e.each(function(){if(!$(this).find(".filter-slider").length){$(this).append('<div class="filter-slider"></div>');var e=$(this).find(".js-min"),t=$(this).find(".js-max"),i=parseFloat(e.attr("placeholder")),a=parseFloat(t.attr("placeholder")),s=1,r=$(this).find(".filter-slider");if(r.data("step"))s=parseFloat(r.data("step"));else{var o=a-i;if(Math.round(i)!=i||Math.round(a)!=a){s=o/10;for(var l=0;s<1;)s*=10,l+=1;s=Math.pow(10,-l),l=Math.round(1e5*Math.abs(Math.round(i)-i))/1e5,l&&l<s&&(s=l),l=Math.round(1e5*Math.abs(Math.round(a)-a))/1e5,l&&l<s&&(s=l)}}r.slider({range:!0,min:parseFloat(e.attr("placeholder")),max:parseFloat(t.attr("placeholder")),step:s,values:[parseFloat(e.val().length?e.val():e.attr("placeholder")),parseFloat(t.val().length?t.val():t.attr("placeholder"))],slide:function(i,a){var s=a.values[0]==$(this).slider("option","min")?"":a.values[0];e.val(s),s=a.values[1]==$(this).slider("option","max")?"":a.values[1],t.val(s)},stop:function(i,a){a.value==a.values[0]?e.change():t.change()}}),e.add(t).change(function(){var i=""===e.val()?r.slider("option","min"):parseFloat(e.val()),a=""===t.val()?r.slider("option","max"):parseFloat(t.val());a>=i&&r.slider("option","values",[i,a])})}})},dateParam:function(){$(".js-filter-date").each(function(){var e=$(this);e.find(".js-datepicker").each(function(){var t=$(this),i=t.data("code"),a=t.parent().find("input[type='hidden'][data-code='"+i+"']");t.datepicker({altField:a,altFormat:"yy-mm-dd",minDate:formatDate(e.data("min")),maxDate:formatDate(e.data("max")),changeMonth:!0,changeYear:!0}),t.on("change",function(){t.val()||a.val("")})})})},showAllParams:function(){$(".js-filter-params-all").click(function(e){e.preventDefault();var t=$(this),i=t.data("text-show"),a=t.data("text-hide"),s=t.closest(".js-filter-param"),r=s.find(".js-filter-variant");r.is(":hidden")?(r.removeClass("hide"),t.addClass("open"),t.text(a)):(r.addClass("hide"),t.removeClass("open"),t.text(i))})},smartfilterRefreshHideParams:function(){var e=$(".js-filters").data("smartfilters-hide-option");void 0!==$.smartfiltersTheme&&e&&setTimeout(function(){$(".js-filter-params-all").each(function(){var e=$(this),t=e.hasClass("open"),i=parseInt(e.data("max-show-params")),a=e.closest(".js-filter-param").find("label"),s=0;i&&(e.hide(),a.each(function(){var a=$(this);a.removeClass("js-filter-variant").removeClass("hide"),a.hasClass("sf-label-disabled")&&a.is(":hidden")||s++,s>i&&(e.show(),a.addClass("js-filter-variant"),t||a.addClass("hide"))}))})},500)},clearSelectedFilter:function(){$(this);$("body").on("click",".js-filter-selected-remove",function(){var e=$(this).data("code");$(".js-category-filter").length&&horizontalFilter.clearFilterItem($(".js-category-filter").find(".js-category-filter-el[data-code='"+e+"']"),!1),$(".js-mobile-filter").length&&mobileFilter.clearFilterItem(e),$(".js-sidebar-filter").length&&sidebarFilter.clearFilterItem(e),$(".js-filters").length&&productList.updateProductList($(".js-filters form").first(),!0)})},seoFilterDisabledParams:function(){var e=this;if("function"==typeof window.seofilterInit){var t=$(".filters form").filter(":visible").first(),i=$(".filters form");if(i.length>1&&t.length){t.find("input").each(function(){var e=$(this),t=e.data("code"),a=i.find('input[data-code="'+t+'"]');e.is(":disabled")?(a.prop("disabled",!0),a.closest("label").addClass("disabled"),a.closest(".js-checkbox-styler, .js-radio-styler").addClass("disabled")):(a.prop("disabled",!1),a.closest("label").removeClass("disabled"),a.closest(".js-checkbox-styler, .js-radio-styler").removeClass("disabled"))})}e.refreshStylerAllInputs(i)}},addFilterSubcategory:function(e){var t=this,i=$(".js-category-subcategories"),a=i.data("save-filters"),s=i.data("save-filters-aliases"),r=e,o=i.find(".js-category-link");if(a)if(s&&(s=s.split(","),s.length>0&&(r=[],e.forEach(function(e){s.indexOf(e.name.replace("[]",""))>=0&&r.push(e)}))),r.length){var l=t.buildUrl(r);o.length&&(l.length<2&&(l=""),o.each(function(){var e=$(this).attr("href");e=e.split("?")[0],$(this).attr("href",e+l)}))}else o.each(function(){var e=$(this).attr("href");e=e.split("?")[0],$(this).attr("href",e)})},initFilterSubcategory:function(){var e=this,t=$(".js-filters form").first();if(t.length){e.buildUrl(t.serializeArray());e.addFilterSubcategory(t.serializeArray())}},buildUrl:function(e){for(var t=[],i="",a=0;a<e.length;a++){var s=e[a].name;if(s.indexOf("[unit]")>-1){s=s.replace("[unit]","");var r=e[a].value,o=s+"[min]",l=s+"[max]";e[a].value="";for(var n=0;n<e.length;n++)e[n].name!=o&&e[n].name!=l||""==e[n].value||(e[a].value=r)}}for(var a=0;a<e.length;a++)""!==e[a].value&&t.push(e[a].name+"="+e[a].value);return t.length&&(i="?"+t.join("&")),i},refreshStylerAllInputs:function(e){void 0===e&&(e=$(".js-category-filter, .js-sidebar-filter, .js-mobile-filter"));var t=e.find(".js-checkbox-styler-input:checked, .js-radio-styler-input:checked");t.closest(".js-radio-styler, .js-checkbox-styler").addClass("checked"),t.closest("label").addClass("checked");var i=e.find(".js-checkbox-styler-input:not(:checked), .js-radio-styler-input:not(:checked)");i.closest(".js-radio-styler, .js-checkbox-styler").removeClass("checked"),i.closest("label").removeClass("checked")}},sidebarFilter={init:function(){this.filterSend()},filterSend:function(){$("body").on("change",".js-ajax-filter form.js-sidebar-filter input",function(){horizontalFilter.changeOption($(this)),mobileFilter.changeOption($(this)),productList.updateProductList($(this).closest("form"),!0)}),$(".js-ajax-filter form.js-sidebar-filter").submit(function(){return productList.updateProductList($(this),!0),!1})},changeOption:function(e){var t=e.data("code"),i=e.attr("type"),a=e.val(),s=$("form.js-sidebar-filter").find('input[data-code="'+t+'"]');if("text"==i){var r=s.closest(".js-filter-range");s.val(a),r.length&&(r.find(".filter-slider").remove(),filterForm.rangeParam(r))}else if("radio"==i||"checkbox"==i){if("radio"==i){var o=e.attr("name"),l=$("form.js-sidebar-filter").find('input[type="radio"][name="'+o+'"]');l.prop("checked",!1),l.closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),l.closest("label").removeClass("checked")}e.is(":checked")?(s.prop("checked",!0),s.closest(".js-checkbox-styler, .js-radio-styler").addClass("checked"),s.closest("label").addClass("checked")):(s.prop("checked",!1),s.closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),s.closest("label").removeClass("checked"))}},clearFilterItem:function(e){var t=$(".js-sidebar-filter").find(".js-filter-param[data-code='"+e+"']");t.find('input[type="checkbox"], input[type="radio"]').prop("checked",!1),t.find('input[type="checkbox"], input[type="radio"]').closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),t.find('input[type="checkbox"], input[type="radio"]').closest("label").removeClass("checked"),t.find('input[type="text"]').val(""),$(".js-sidebar-filter .filter-slider").remove(),filterForm.rangeParam($(".js-sidebar-filter .js-filter-range"))}},horizontalFilter={init:function(){var e=this;e.filterSend(),e.clearFilter(),e.responsiveHorizontal(),e.resize(),e.open()},filterSend:function(){var e=this;$("body").on("change",".js-ajax-filter form.js-category-filter input",function(){e.selectHorizontalFilter($(this).closest(".js-category-filter-el")),sidebarFilter.changeOption($(this)),mobileFilter.changeOption($(this)),productList.updateProductList($(this).closest("form"),!0)}),$(".js-ajax-filter form.js-category-filter").submit(function(){return productList.updateProductList($(this),!0),!1})},changeOption:function(e){var t=this,i=e.data("code"),a=e.attr("type"),s=e.val(),r=$("form.js-category-filter").find('input[data-code="'+i+'"]');if("text"==a){var o=r.closest(".js-filter-range");r.val(s),o.length&&(o.find(".filter-slider").remove(),filterForm.rangeParam(o))}else if("radio"==a||"checkbox"==a){if("radio"==a){var l=e.attr("name"),n=$("form.js-category-filter").find('input[type="radio"][name="'+l+'"]');n.prop("checked",!1),n.closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),n.closest("label").removeClass("checked")}e.is(":checked")?(r.prop("checked",!0),r.closest("label").addClass("checked"),r.closest(".js-radio-styler, .js-checkbox-styler").addClass("checked")):(r.prop("checked",!1),r.closest("label").removeClass("checked"),r.closest(".js-radio-styler, .js-checkbox-styler").removeClass("checked"))}var d=r.closest(".js-category-filter-el");t.selectHorizontalFilter(d)},responsiveHorizontal:function(){var e=this;$(".js-resp-nav");responsiveMenu.responsived($(".js-category-filter-list"),".js-category-filter-el",".js-category-filter-subwrap"),responsiveMenu.positionSubmenu(".js-category-filter-el",".js-category-filter-list",".js-category-filter-subwrap"),e.countSelectedFilterElse($('.js-category-filter-el[data-type="else"]')),$(".js-category-filter .filter-slider").remove(),filterForm.rangeParam($(".js-category-filter .js-filter-range"))},resize:function(){var e=this;$(window).resize(function(){e.responsiveHorizontal()})},selectHorizontalFilter:function(e){var t=this,i=e.closest('.js-category-filter-el[data-type="else"]');i.length?t.countSelectedFilterElse(i):t.countSelectedFilterItem(e)},countSelectedFilterItem:function(e){var t=0,i=e.data("type");if("checkbox"==i){var a=e.find("input").serializeArray();t=a.length}else if("radio"==i)e.find("input:radio:checked")&&e.find("input:radio:checked").val()&&(t=1);else if("text"==i){var a=e.find("input:text");a.each(function(){$(this).val()&&t++})}return t?(e.addClass("selected"),e.find(".js-filters-count").text(t)):e.removeClass("selected"),parseInt(t)},countSelectedFilterElse:function(e){var t=this,i=0;e.find(".js-category-filter-el").each(function(){i+=t.countSelectedFilterItem($(this))}),i?(e.addClass("selected"),e.find(".js-filters-count").first().text(i)):e.removeClass("selected")},clearFilter:function(){var e=this;$("body").on("click",".js-filter-remove",function(t){t.stopPropagation();var i=$(this).closest(".js-category-filter-el");"else"==i.data("type")?e.clearFilterItemElse(i):e.clearFilterItem(i,!0)})},clearFilterItem:function(e,t){var i=this;e.find('input[type="checkbox"], input[type="radio"]').prop("checked",!1),e.find('input[type="checkbox"], input[type="radio"]').closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),e.find('input[type="checkbox"], input[type="radio"]').closest("label").removeClass("checked"),e.find('input[type="text"]').val(""),e.removeClass("selected"),e.find('input[type="checkbox"], input[type="radio"], input[type="text"]').each(function(){mobileFilter.changeOption($(this)),sidebarFilter.changeOption($(this))}),$(".js-category-filter .filter-slider").remove(),filterForm.rangeParam($(".js-category-filter .js-filter-range")),t&&productList.updateProductList(e.closest("form"),!0);var a=e.closest('.js-category-filter-el[data-type="else"]');a.length&&i.countSelectedFilterElse(a)},clearFilterItemElse:function(e){var t=this;e.find(".js-category-filter-el").each(function(){t.clearFilterItem($(this),!1)}),e.removeClass("selected"),productList.updateProductList(e.closest("form"),!0)},open:function(){$(".js-category-filter-el");$("body").on("mouseover",".js-category-filter-el",function(){$(this).find(".js-category-filter-subwrap").first().stop(!0).delay(150).fadeIn(1,function(){$(this).closest(".js-category-filter-el").addClass("open")})}),$("body").on("mouseout",".js-category-filter-el",function(){$(this).find(".js-category-filter-subwrap").first().stop(!0).delay(100).fadeOut(1,function(){$(this).closest(".js-category-filter-el").removeClass("open")})})}},mobileFilter={init:function(){var e=this;e.filterSend(),e.open(),e.closeByButton(),e.closeByBg()},filterSend:function(){var e=this;$("body").on("change",".js-ajax-filter form.js-mobile-filter input",function(){horizontalFilter.changeOption($(this)),sidebarFilter.changeOption($(this)),productList.updateProductList($(this).closest("form"),!0)}),$(".js-ajax-filter form.js-mobile-filter").submit(function(){return productList.updateProductList($(this),!0),!1}),$("body").on("click",".js-ajax-filter form.js-mobile-filter .js-submit-form",function(){e.close($(this).closest(".js-mobile-filter-outer"))})},changeOption:function(e){var t=e.data("code"),i=e.attr("type"),a=e.val(),s=$("form.js-mobile-filter").find('input[data-code="'+t+'"]');if("text"==i){var r=s.closest(".js-filter-range");s.val(a),r.length&&(r.find(".filter-slider").remove(),filterForm.rangeParam(r))}else if("radio"==i||"checkbox"==i){if("radio"==i){var o=e.attr("name"),l=$("form.js-mobile-filter").find('input[type="radio"][name="'+o+'"]');l.prop("checked",!1),l.closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),l.closest("label").removeClass("checked")}e.is(":checked")?(s.prop("checked",!0),s.closest(".js-checkbox-styler, .js-radio-styler").addClass("checked"),s.closest("label").addClass("checked")):(s.prop("checked",!1),s.closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),s.closest("label").removeClass("checked"))}},clearFilterItem:function(e){var t=$(".js-mobile-filter").find(".js-filter-param[data-code='"+e+"']");t.find('input[type="checkbox"], input[type="radio"]').prop("checked",!1),t.find('input[type="checkbox"], input[type="radio"]').closest("label").removeClass("checked"),t.find('input[type="checkbox"], input[type="radio"]').closest(".js-checkbox-styler, .js-radio-styler").removeClass("checked"),t.find('input[type="text"]').val(""),$(".js-mobile-filter .filter-slider").remove(),filterForm.rangeParam($(".js-mobile-filter .js-filter-range"))},open:function(){var e=this,t=$(".js-btn-open-filter"),i=$(".js-mobile-filter-outer"),a=i.find(".js-mobile-filter-btns");i.length&&t.length&&t.on("click",function(){i.is(":visible")?e.close(menu):(i.css("left","100%"),i.addClass("show"),i.animate({left:"0"},300,function(){a.addClass("show"),a.css("bottom","-100%"),a.animate({bottom:"0"},300,function(){i.removeAttr("style"),a.removeAttr("style")})}),$("body").addClass("overflow-hidden").append("<div class='js-m-bg m-bg'></div>"))})},closeByButton:function(){var e=this;$(".js-mobile-filter-close").on("click",function(){e.close($(this).closest(".js-mobile-filter-outer"))})},closeByBg:function(){var e=this;$("body").on("click",".js-m-bg",function(){e.close($(".js-mobile-filter-outer"))})},close:function(e){if(e.length){var t=e.find(".js-mobile-filter-btns");t.removeAttr("style"),t.removeClass("show"),e.animate({left:"-100%"},300,function(){e.removeAttr("style"),e.removeClass("show"),$("body").removeClass("overflow-hidden"),$(".js-m-bg").remove()})}}},brands={brandsWrap:$(".js-home-brands"),init:function(){var e=this;if(!e.brandsWrap.length)return!1;e.brandsWrap.outerWidth()<900?e.brandsWrap.addClass("compact"):e.brandsWrap.removeClass("compact"),e.prepareBrandsCarousels(),e.carouselInteraction(),$(window).one("resize",brands.brandsCarousel)},prepareBrandsCarousels:function(){var e=this,t=e.brandsWrap.find(".js-home-brands-carousel"),i=t.outerWidth(!0),a=e.brandsWrap.find(".js-home-brand-el"),s=a.length;if(a.first().outerWidth(!0)*s>i+10){var r=e.brandsWrap.find(".js-home-brands-direction");r.append('<div data-index="prev" class="js-carousel-brands-on-initialized owl-prev disabled"><span class="carousel-prev"></span></div>'),r.append('<div data-index="next" class="js-carousel-brands-on-initialized owl-next"><span class="carousel-next"></span></div>')}var o=t.offset().left+t.outerWidth();a.slice(0,6).each(function(){$(this).offset().left<o&&$(this).find(".owl-lazy").Lazy({afterLoad:function(e){e.removeClass("owl-lazy")}})})},carouselInteraction:function(){var e=this;$(".js-carousel-brands-on-initialized").on("click",function(){e.brandsCarousel($(this).data("index"))}),is_touch_device()&&$(".js-home-brands-carousel").swipe({allowPageScroll:"auto",threshold:20,swipe:function(e,t,i,a,s,r){"left"==t?brands.brandsCarousel("next"):"right"==t&&brands.brandsCarousel("prev")}})},brandsCarousel:function(e){if(brands.brandsWrap.hasClass("carousel-init"))return!1;var t=brands.brandsWrap.find(".js-home-brands-carousel"),i=brands.brandsWrap.find(".js-home-brands-direction"),a=contentCols.getCount(brands.brandsWrap.closest(".js-content-cols")),s={0:{items:2},450:{items:3},700:{items:4},1200:{items:5},1400:{items:6}};2==a?s={0:{items:2},450:{items:3},700:{items:4},1400:{items:5}}:3==a&&(s={0:{items:2},450:{items:3},700:{items:4}}),t.owlCarousel({loop:!1,margin:10,nav:!0,dots:!1,navText:['<span class="carousel-prev"></span>','<span class="carousel-next"></span>'],navElement:"div",navContainer:i,responsive:s,lazyLoad:!0,onInitialize:function(e){brands.brandsWrap.find(".js-carousel-brands-on-initialized").remove()},onInitialized:function(e){brands.brandsWrap.addClass("carousel-init")}}),t.on("changed.owl.carousel",function(e){e.page.size<=4&&brands.brandsWrap.outerWidth()<900?brands.brandsWrap.addClass("compact"):brands.brandsWrap.removeClass("compact")}),e&&("prev"==e?t.trigger("prev.owl.carousel"):"next"==e&&t.trigger("next.owl.carousel"))}},reviews={reviewsWrap:$(".js-home-reviews"),init:function(){var e=this;if(!e.reviewsWrap.length)return!1;e.prepareReviewsCarousels(),e.carouselInteraction(),$(window).one("resize",reviews.reviewsCarousel)},prepareReviewsCarousels:function(){var e=this,t=e.reviewsWrap.find(".js-reviews-carousel"),i=t.outerWidth(),a=e.reviewsWrap.find(".js-home-reviews-item"),s=a.length;if(a.first().outerWidth(!0)*s>i+40){var r=e.reviewsWrap.find(".js-carousel-direction");r.append('<div data-index="prev" class="js-carousel-reviews-on-initialized owl-prev disabled"><span class="carousel-prev"></span></div>'),r.append('<div data-index="next" class="js-carousel-reviews-on-initialized owl-next"><span class="carousel-next"></span></div>')}var o=t.offset().left+t.outerWidth();a.slice(0,2).each(function(){$(this).offset().left<o&&$(this).find(".owl-lazy").Lazy({afterLoad:function(e){e.removeClass("owl-lazy")}})})},carouselInteraction:function(){var e=this;$(".js-carousel-reviews-on-initialized").on("click",function(){e.reviewsCarousel($(this).data("index"))}),is_touch_device()&&$(".js-reviews-carousel").swipe({allowPageScroll:"auto",threshold:20,swipe:function(e,t,i,a,s,r){"left"==t?reviews.reviewsCarousel("next"):"right"==t&&reviews.reviewsCarousel("prev")}})},reviewsCarousel:function(e){if(reviews.reviewsWrap.hasClass("carousel-init"))return!1;var t=reviews.reviewsWrap.find(".js-reviews-carousel"),i=reviews.reviewsWrap.find(".js-carousel-direction"),a=contentCols.getCount(reviews.reviewsWrap.closest(".js-content-cols")),s={0:{items:1},1e3:{items:2}};2==a?s={0:{items:1},1250:{items:2}}:3==a&&(s={0:{items:1}}),t.owlCarousel({loop:!1,margin:30,nav:!0,dots:!1,navText:['<span class="carousel-prev"></span>','<span class="carousel-next"></span>'],navElement:"div",navContainer:i,responsive:s,autoHeight:!0,lazyLoad:!0,onInitialize:function(e){reviews.reviewsWrap.find(".js-carousel-reviews-on-initialized").remove()},onInitialized:function(e){reviews.reviewsWrap.addClass("carousel-init")},onLoadedLazy:function(e){var t=$(e.currentTarget);t.length&&$.Retina&&t.find(".owl-item.active .owl-lazy").retina()}}),e&&("prev"==e?t.trigger("prev.owl.carousel"):"next"==e&&t.trigger("next.owl.carousel"))}},productList={init:function(){var e=this;e.switchProductsView(),e.ajaxSorting(),e.pagination(),e.paginationPageAjax(),e.setCountPerPageProducts(),window.addEventListener("popstate",function(e){location.reload()})},switchProductsView:function(){var e=this,t=$(".js-switch-product-view");$("body").on("click",".js-switch-product-view",function(){var i=$(this),a=i.data("view");e.setCookieProductView(a),t.removeClass("bs-color"),i.addClass("bs-color"),e.updateProductList(null,!1,window.location.href)})},setCookieProductView:function(e){var t={expires:7,path:"/"};$.cookie("productPreviewView",e,t)},ajaxSorting:function(){var e=this;$("body").on("click",".js-ajax-sorting a",function(t){t.preventDefault();var i=$(this),a=i.attr("href"),s=i.closest(".js-search-page").length>0;if(a){var r=$.urlParam(a,"sort"),o=$.urlParam(a,"order"),l=$.urlParam(a,"page");(s?$(".js-filters form, .js-search-form"):$(".js-filters form")).each(function(){var e=$(this),t=e.find(".js-filter-reset"),i=e.find('input[name="sort"]'),a=e.find('input[name="order"]');if(r&&o){if(i.length?i.val(r):e.append('<input type="hidden" name="sort" value="'+r+'">'),a.length?a.val(o):e.append('<input type="hidden" name="order" value="'+o+'">'),t.length){var s=t.data("category-url");t.attr("href",s+"?sort="+r+"&order="+o)}}else if(i.remove(),a.remove(),t.length){var s=t.data("category-url");t.attr("href",s)}});var n=$(".js-filters form").first();n.length&&l&&n.prepend('<input type="hidden" name="page" value="'+l+'">'),e.updateProductList(n,!0,a),n.find("input[type='hidden'][name='page']").remove()}})},pagination:function(){var e=this,t=$('.js-paging-nav[data-lazyload="1"]').length,i=$(".js-paging-load-else").length&&$(".js-paging-load-else").is(":visible");e.pagingElse(),t&&!i&&e.lazyloading()},paginationPageAjax:function(){var e=this;$("body").on("click",".js-pagination-ajax a",function(t){var i=$("#product-list");if(i.length){t.preventDefault();var a=$(this).attr("href"),s=i.offset().top-90;e.updateProductList(null,!0,a),$("html,body").animate({scrollTop:s},500)}})},lazyloading:function(){if($.fn.lazyLoad){var e=$('.js-paging-nav[data-lazyload="1"]');if(!e.length)return;var t=e.find("li.selected"),i=t.next(),a=$(window);a.lazyLoad("stop"),i.length&&a.lazyLoad({container:"#product-list .product-list",load:function(){a.lazyLoad("sleep");var e=$('.js-paging-nav[data-lazyload="1"]');if(t=e.find("li.selected"),i=t.next(),url=i.find("a").attr("href"),!url)return void a.lazyLoad("stop");var s=e.data("product-view");s&&productList.setCookieProductView(s);var r=$("#product-list .product-list"),o=e.parent().find(".loading").parent();o.length||(o=$('<div class="paging-loading-icon"><i class="loading products-loading bs-color"></i></div>').insertBefore(e)),$(".js-paging-load-else").hide(),$(".js-pagination").hide(),o.show(),$.get(url+"&_="+(new Date).getTime()+Math.random(),function(t){var s=$("<div></div>").html(t);productsPreviewList.images(s.find(".js-preview-products")),r.append(s.find("#product-list .product-list").children());var l=s.find('.js-paging-nav[data-lazyload="1"]');e.replaceWith(l),e=l;var n=e.find("li.selected");i=n.next(),history.pushState&&void 0!==history.state&&window.history.pushState({},"",url),i.length?a.lazyLoad("wake"):a.lazyLoad("stop"),void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit(),e.find(".js-paging-load-else").hide(),e.find(".js-pagination").hide(),o.hide(),s.remove()})}})}},pagingElse:function(e){var t=this;$("body").on("click",".js-paging-load-else",function(){var e=$(this),i=e.data("after-lazyload"),a=e.closest(".js-paging-nav"),s=a.find(".js-pagination .selected"),r=s.next(),o=r.find("a").attr("href"),l=e.closest("#product-list").find(".js-preview-products"),n=a.data("product-view");n&&productList.setCookieProductView(n),e.addClass("loading"),o&&($(window).lazyLoad&&$(window).lazyLoad("sleep"),$.get(o+"&_="+(new Date).getTime()+Math.random(),function(s){var r=$("<div></div>").html(s);l.append(r.find(".js-preview-products").html()),a.html(r.find(".js-paging-nav").html()),e.removeClass("loading"),productsPreviewList.images($("#product-list").find(".js-preview-products")),i&&t.lazyloading(),history.pushState&&void 0!==history.state&&window.history.pushState({},"",o),void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()}))})},updateProductList:function(e,t,i){i||(i=window.location.search),e&&e.length&&(i=filterForm.buildUrl(e.serializeArray()),filterForm.addFilterSubcategory(e.serializeArray())),i=removeParam("_",i);var a=i.indexOf("?")<0,s=i,r=(new Date).getTime()+Math.random();s=a?s+"?_="+r:s+"&_="+r,$(window).lazyLoad&&$(window).lazyLoad("sleep"),$("#product-list").html('<div><i class="js-loading products-loading bs-color"></i></div>'),$.get(s,function(e){var a=$("<div></div>").html(e);$("#product-list").html(a.find("#product-list").html()),productsPreviewList.images($("#product-list").find(".js-preview-products")),history.pushState&&void 0!==history.state&&t&&("?"!=i&&""!=i||(i=window.location.pathname),window.history.pushState({},"",i)),$(window).lazyLoad&&$(window).lazyLoad("reload"),void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit(),filterForm.smartfilterRefreshHideParams()})},setCountPerPageProducts:function(){$("body").on("click",".js-select-per-page",function(){var e=$(this),t=e.data("count"),i={expires:7,path:"/"};$.cookie("products_per_page",t,i);var a=window.location.href.replace(/(page=)\w+/g,"page=1");window.location.href=a})}};$(function(){reviews.init(),brands.init(),productList.init(),globalThemeSettings.isFilters&&(filterForm.init(),mobileFilter.init(),globalThemeSettings.isMobile||(horizontalFilter.init(),sidebarFilter.init()))}),$(function(){void 0===window.seofilterOnFilterSuccessCallbacks&&(window.seofilterOnFilterSuccessCallbacks=[]),window.seofilterOnFilterSuccessCallbacks.push(function(){moreText.addLink(),filterForm.refreshStylerAllInputs()}),globalThemeSettings.isSeoFilterBlockedOPtions&&(window.seofilterOnFilterSuccessCallbacks.push(function(){filterForm.seoFilterDisabledParams()}),filterForm.seoFilterDisabledParams())});